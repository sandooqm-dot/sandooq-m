<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>ุณุจุงู ุงูุญุฑูู</title>

  <!-- โ (ุชุนุฏูู) ุฎุท Baloo Bhaijaan ูุนููุงู ุงููุนุจุฉ -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Baloo+Bhaijaan&display=swap" rel="stylesheet">

  <style>
    /* =========================
   ๐จ THEME (ุฃููุงู ูุชูุงุณูุฉ ูุน AA-GALAXY)
   ุงูุตู ูุฐุง ุงูููุทุน ูุจู </style>
   ========================= */

/* ูุนูุฏ ุชุนุฑูู ุงูุฃููุงู ููุง (ูุณุชุจุฏู ุงููุฏูู ุชููุงุฆููุง ูุฃููู ุขุฎุฑ ุดูุก) */
:root{
  --bg:#163B84;          /* ุฎูููุฉ ุฑุฆูุณูุฉ */
  --bg2:#0F2F66;         /* ุชุฏุฑูุฌ ุฎููู ููุฎูููุฉ */
  --yellow:#F4C400;      /* ุฃุตูุฑ ุงูุนูุงูุฉ */
  --card:#F7FAFF;        /* ุฃุจูุถ ูุงุฆู ููุฃุฒุฑู (ุฃุฌูู ูุน ุงูุฎุท) */
  --text:#0B1220;
  --muted:#5B6474;

  --green:#1aa34a;
  --orange:#f28c00;
  --red:#c01818;

  --hexGreen:  rgba(0, 140, 70, .42);
  --hexOrange: rgba(255, 140, 0, .42);
  --hexPale:   rgba(255, 215, 80, .68);
  --hexBorder: rgba(13,39,91,.18);

  --purple:#7C5CFF;
  --blue:#0ea5e9;

  --navy:#0F2F66;        /* ูุญูู ููุญูุฏ */
  --timerBlue:#2B57B5;   /* ุฃุฒุฑู ุงููุคูุช/ุจุทุงูุฉ ุงูุณุคุงู */

  --panel:rgba(255,255,255,.08);
  --panelBorder:rgba(255,255,255,.14);

  --softShadow:0 8px 18px rgba(0,0,0,.12);
  --hardShadow:0 10px 22px rgba(0,0,0,.18);

  --outline:rgba(15,47,102,.22);
  --blackOutline:rgba(0,0,0,.32);
}

/* ุฎูููุฉ ุฃุฌูู ููุชูุงุณูุฉ */
body{
  background: linear-gradient(180deg, var(--bg) 0%, var(--bg2) 100%);
}

/* ุงููุฑูุช/ุงูุตูุงุฏูู: ุฅุทุงุฑ ูุธู ููุญูุฏ */
.card{
  background: var(--card);
  border: 1px solid var(--outline);
  box-shadow: var(--softShadow);
}

/* ุตูุฏูู ุงุณู ุงููุนุจุฉ: ุฃูุฏุฃ */
.gameName{
  background: rgba(255,255,255,.18);
  border: 1px solid rgba(255,255,255,.20);
  box-shadow: 0 2px 0 rgba(0,0,0,.10);
}

/* ุดุฑูุท ุฃุฏูุงุช ุงูุฎุฑูุทุฉ: ุฃุฒุฑุงุฑ ูุญูู ุจุฏู ุงูุฃุณูุฏ ุงูุซููู */
.iconBtn{
  background: rgba(15,47,102,.78);
  border: 2px solid rgba(255,255,255,.12);
  box-shadow: 0 6px 14px rgba(0,0,0,.18);
}
.iconBtn svg{ fill:#fff; }

/* ุตูุฏูู ุงูุชุญููุงุช */
.controlWrap{
  background: var(--panel);
  border: 1px solid var(--panelBorder);
  box-shadow: var(--softShadow);
}

/* ุฃุฒุฑุงุฑ ุงูููุฏู ุงูุฃุฑุจุนุฉ: ุฅุทุงุฑ ุฃุฎู ูุฃุดูู */
.sideCol .btn{
  border: 2px solid var(--blackOutline);
  box-shadow: 0 3px 0 rgba(0,0,0,.12);
}

/* ุงููุคูุช: ุญููุฉ ูุญูู ุจุฏู ุฃุณูุฏ ููู */
.timerClockBtn{
  border: 2px solid rgba(255,255,255,.90);
  background: var(--timerBlue);
  box-shadow: var(--hardShadow);
}
.timerRing circle{
  stroke: rgba(15,47,102,.92);
}

/* ุจุทุงูุฉ ุงูุณุคุงู: ุฅุทุงุฑ ูุญูู ุจุฏู ุงูุฃุณูุฏ ุงูุซููู */
.questionCard{
  background: var(--timerBlue);
  border: 3px solid rgba(15,47,102,.95);
  box-shadow: var(--hardShadow);
}

/* ุดุฑูุท ุฃูู ูุงุนุจ: ุฅุทุงุฑ ูุญูู ุฃูุถุญ */
.firstPressBar{
  border: 2px solid rgba(15,47,102,.55);
  box-shadow: var(--softShadow);
}

/* ูุฑุจุนุงุช ุงูููุงุท */
.scoreBoxBtn{
  border: 1px solid rgba(15,47,102,.18);
  box-shadow: 0 2px 0 rgba(0,0,0,.10);
}

/* ูุงูุฐุฉ ุงูุฅุนุฏุงุฏุงุช: ุฅุทุงุฑ ูุญูู ุจุฏู ุฃุณูุฏ ูุซูู */
.settingsPanel{
  border: 8px solid rgba(15,47,102,.95);
}
.settingsBtn{
  border: 4px solid rgba(15,47,102,.95);
  box-shadow: 0 6px 0 rgba(0,0,0,.16);
}

/* ุฒุฑ ุงูุดุฑุงุก ุงูุจููุณุฌู: ูุบูุฉ ุฃูุฏุฃ */
.buyNowBtn{
  background: var(--purple);
  box-shadow: 0 3px 0 rgba(0,0,0,.14);
}
    :root{
      --bg:#1f4fa3;
      --yellow:#f4c400;
      --card:#ffffff;
      --text:#111;
      --muted:#666;
      --green:#1aa34a;
      --orange:#f28c00;
      --red:#c01818;

      --hexGreen:  rgba(0, 140, 70, .42);
      --hexOrange: rgba(255, 140, 0, .42);
      --hexPale:   rgba(255, 215, 80, .68);
      --hexBorder: rgba(0,0,0,.10);

      /* โ ุฃููุงู ุฅุถุงููุฉ */
      --purple:#8b5cf6;
      --blue:#0ea5e9;

      /* โ ุฃููุงู UI ุฌุฏูุฏุฉ */
      --navy:#0f2f66;
      --timerBlue:#2f5fb7;
    }

    /* โโ (ุงูุชุนุฏูู ุงููุญูุฏ ุงููุทููุจ) ุฅุถุงูุฉ ุงูุฎุท ูุชุทุจููู ุนูู ุฌููุน ุงููุตูุต */
    @font-face{
      font-family: 'AA-GALAXY Bold';
      src: url('./AA-GALAXY.otf') format('opentype');
      font-weight: 400;
      font-style: normal;
      font-display: swap;
    }
    *{
      font-family: 'AA-GALAXY Bold', Arial, sans-serif !important;
    }
    /* โโ ููุงูุฉ ุงูุชุนุฏูู ุงููุญูุฏ */

    body{margin:0;background:var(--bg);font-family:Arial, sans-serif;color:#fff;text-align:center}

    /* โ (ุชุนุฏูู) ููุฏุฑ ุตู ูุงุญุฏ ุจุฏูู ูุฑุงุบ ุนููู */
    header{
      position:relative;
      padding:14px 14px 0;
    }
    .headerRow{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
      width:100%;
      box-sizing:border-box;
      direction:ltr;
    }

    .logo{
      position:static;
      width:64px;height:64px;
      object-fit:contain;
      flex:0 0 auto;
    }

    h1{
      margin:0;
      color:var(--yellow);
      font-size:28px;
      font-family:'Baloo Bhaijaan', Arial, sans-serif;
      font-weight:800;
      flex:1 1 auto;
      text-align:center;
      line-height:1.2;
      white-space:nowrap;
      overflow:hidden;
      text-overflow:ellipsis;
      direction:rtl;

      /* โ (ูุทููุจ) ุฅุฒุงุญุฉ ุจุณูุทุฉ ูููููู */
      position:relative;
      transform: translateX(10px);
    }

    .gameName{
      position:static;
      flex:0 0 auto;

      width:min(28vw, 145px);
      min-height:40px;
      padding:6px 8px;
      border-radius:12px;

      background:rgba(255,255,255,.22);
      border:1px solid rgba(255,255,255,.18);
      color:#fff;
      box-shadow:0 2px 0 rgba(0,0,0,.12);

      font-size:14px;
      font-weight:900;
      line-height:1.25;
      text-align:center;

      overflow:hidden;
      box-sizing:border-box;

      direction:rtl;
    }
    .gameName:empty{display:none;}

    .gnText{
      display:-webkit-box;
      -webkit-box-orient:vertical;
      -webkit-line-clamp:2;
      overflow:hidden;
      word-break:break-word;
      white-space:normal;
    }

    .wrap{width:95%;max-width:900px;margin:0 auto}

    .card{
      background:var(--card);color:var(--text);
      width:100%;margin:12px auto;padding:12px;border-radius:12px;
      box-sizing:border-box
    }

    #main.inGame{
      margin-top:8px;
      padding-top:8px;
    }

    .row{display:flex;gap:10px;flex-wrap:wrap;justify-content:center;align-items:center}
    .btn{padding:12px 14px;font-size:16px;border:none;border-radius:12px;cursor:pointer}
    .btnYellow{background:var(--yellow);color:#000}
    .btnGreen{background:var(--green);color:#fff}
    .btnRed{background:var(--red);color:#fff}
    .btnOrange{background:var(--orange);color:#fff}
    .btnBlue{background:var(--blue);color:#fff}
    .btnPurple{background:var(--purple);color:#fff}

    .codeBox{font-size:18px}
    .codeNum{font-size:28px;font-weight:bold;letter-spacing:2px}

    .teams{display:flex;gap:10px;flex-wrap:wrap}
    .teamCol{flex:1;min-width:240px;border-radius:12px;padding:10px;color:#fff}
    .teamGreen{background:rgba(26,163,74,.9)}
    .teamOrange{background:rgba(242,140,0,.9)}
    .teamTitle{font-weight:bold;margin-bottom:8px}
    .playerItem{
      background:rgba(255,255,255,.18);
      padding:8px;border-radius:10px;margin:6px 0;cursor:pointer
    }

    /* MAP */
    .mapOuter{width:100%;display:flex;justify-content:center}
    .mapScale{
      width:min(92vw, 760px);
      transform:scale(var(--zoom, 1));
      transform-origin:center top;
    }
    .mapBox{
      position:relative;
      width:100%;
      border-radius:12px;
      overflow:hidden;
      background:transparent;
    }
    .mapBox img{
      width:100%;
      height:auto;
      display:block;
      object-fit:unset;
    }

    .overlaySvg{
      position:absolute;
      inset:0;
      width:100%;
      height:100%;
      pointer-events:auto;
    }
    .overlaySvg .cell{
      cursor:pointer;
      -webkit-tap-highlight-color: transparent;
      touch-action: manipulation;
      stroke: var(--hexBorder);
      stroke-width: 1;
    }

    .overlaySvg .state0{ fill: rgba(0,0,0,0.001); }
    .overlaySvg .state1{ fill: var(--hexPale); }
    .overlaySvg .state2{ fill: var(--hexGreen); }
    .overlaySvg .state3{ fill: var(--hexOrange); }

    @keyframes palePulse {
      0%   { opacity: 1; }
      50%  { opacity: .35; }
      100% { opacity: 1; }
    }
    .overlaySvg .state1.pulse { animation: palePulse 0.9s ease-in-out infinite; }

    /* โ ุตู ุงูุฃุฏูุงุช ุชุญุช ุงูุฎุฑูุทุฉ (ุฃููููุงุช + ุฒูู) */
    .mapToolsRow{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
      margin:8px 0 6px;
    }
    .iconBtn{
      width:46px;height:46px;
      border:none;
      border-radius:50%;
      background:rgba(0,0,0,.70);
      color:#fff;
      display:flex;
      align-items:center;
      justify-content:center;
      cursor:pointer;
      box-shadow:0 2px 0 rgba(0,0,0,.15);
      -webkit-tap-highlight-color: transparent;
      touch-action: manipulation;
      flex:0 0 auto;
    }
    .iconBtn:active{ transform: translateY(1px); box-shadow:0 1px 0 rgba(0,0,0,.15); }
    .iconBtn svg{ width:26px;height:26px; fill:#fff; }
    .zoomSlider{
      flex:1 1 auto;
      min-width:160px;
    }
    input[type="range"]{
      width:100%;
      accent-color: var(--yellow);
    }

    /* โ ุตู ุงูุชุญููุงุช ุญูู ุงููุคูุช */
    .controlWrap{
      background:rgba(255,255,255,.06);
      border:1px solid rgba(255,255,255,.12);
      border-radius:14px;
      padding:10px;
      box-shadow:0 8px 18px rgba(0,0,0,.10);
    }
    .controlRow{
      display:flex;
      gap:12px;
      align-items:center;
      justify-content:space-between;
    }
    .sideCol{
      width:min(38%, 190px);
      display:flex;
      flex-direction:column;
      gap:10px;
    }
    .sideCol .btn{
      width:100%;
      height:46px;
      border-radius:14px;
      font-weight:900;
      box-shadow:0 2px 0 rgba(0,0,0,.12);

      /* โ (ูุทููุจ) ุฅุทุงุฑ ุฎููู ุฃุณูุฏ ููุฃุฒุฑุงุฑ ุงูุฃุฑุจุนุฉ */
      border:2px solid rgba(0,0,0,.45);
    }
    .sideCol .btn:active{ transform: translateY(1px); box-shadow:0 1px 0 rgba(0,0,0,.12); }

    /* โ ุงููุคูุช (ุจุฏูู ูููุฉ "ุงููุคูุช" - ููุท ุฑูู) */
    .timerWrap{
      display:flex;
      align-items:center;
      justify-content:center;
      flex:0 0 auto;
    }
    .timerClockBtn{
      width:118px;height:118px;
      border-radius:50%;
      border:2px solid rgba(255,255,255,.85);
      background:var(--timerBlue);
      box-shadow:0 10px 20px rgba(0,0,0,.18);
      cursor:pointer;
      -webkit-tap-highlight-color: transparent;
      touch-action: manipulation;
      position:relative;
      overflow:hidden;
      user-select:none;
    }
    .timerClockBtn:active{ transform: translateY(1px); box-shadow:0 8px 18px rgba(0,0,0,.18); }

    /* โ (ูุทููุจ) ุฅุทุงุฑ ุฏุงุฆุฑู ุฃุณูุฏ ูุชูุงูุต ูุน ุงูููุช */
    .timerRing{
      position:absolute;
      inset:0;
      width:100%;
      height:100%;
      transform: rotate(-90deg);
      pointer-events:none;
      z-index:1;
    }
    .timerRing circle{
      fill: transparent;
      stroke: rgba(0,0,0,.90);
      stroke-width: 8;
      stroke-linecap: round;
      transition: stroke-dashoffset .20s linear;
    }

    .timerNumber{
      position:absolute;
      inset:0;
      display:flex;
      align-items:center;
      justify-content:center;
      font-weight:900;
      color:#fff;
      font-size:52px;
      text-shadow:0 4px 14px rgba(0,0,0,.25);
      z-index:2;
    }
    .timerNumber.last5{ color:#ff3b30; }

    @keyframes numPop {
      0%   { transform:scale(.85); }
      60%  { transform:scale(1.25); }
      100% { transform:scale(1); }
    }
    .timerNumber.pop{ animation:numPop .22s ease-out; }

    @keyframes timerFlash {
      0%   { box-shadow:0 0 0 0 rgba(255,59,48,.0), 0 10px 20px rgba(0,0,0,.18); }
      50%  { box-shadow:0 0 0 8px rgba(255,255,255,.35), 0 10px 20px rgba(0,0,0,.18); }
      100% { box-shadow:0 0 0 0 rgba(255,59,48,.0), 0 10px 20px rgba(0,0,0,.18); }
    }
    .timerClockBtn.doneFlashing{
      animation: timerFlash .55s linear infinite;
      background: #ff3b30;
    }

    .timerPlayerView{ pointer-events:none; user-select:none; }

    /* โ ุดุฑูุท ุงุณู ุงููุงุนุจ ุงูุฐู ูุถุบุท ุฃููุงู */
    .firstPressBar{
      margin-top:10px;
      width:100%;
      border-radius:14px;
      padding:12px 10px;
      background:#fff;
      color:rgba(0,0,0,.55);
      border:2px solid rgba(15,47,102,.55);
      font-weight:900;
      box-sizing:border-box;
      box-shadow:0 6px 14px rgba(0,0,0,.10);
    }
    .firstPressBar.filled{
      border-color: rgba(0,0,0,.08);
      color:#fff;
    }

    /* โ ุจุทุงูุฉ ุงูุณุคุงู (ููููุฏู) */
    .questionCard{
      margin-top:10px;
      border-radius:16px;
      background:var(--timerBlue);
      border:4px solid rgba(0,0,0,.75);
      box-shadow:0 10px 22px rgba(0,0,0,.18);
      padding:18px 14px;
      color:#fff;
      text-align:center;
    }
    .questionBig{
      font-size:44px;
      font-weight:900;
      line-height:1.2;
      margin:0;
      letter-spacing:.2px;
    }
    /* โ (ุชุนุฏูู) ูุต ุงูุณุคุงู (ุจุฏูู ูููุฉ "ุงูุณุคุงู") */
    .qText{
      line-height:1.65;
      font-size:22px;
      font-weight:900;
      margin-top:0;
    }
    .answerPill{
      margin:14px auto 0;
      width:min(88%, 380px);
      background:#fff;
      color:#111;
      padding:12px 18px;
      border-radius:999px;
      text-align:center;
      font-size:18px;
      font-weight:900;
      display:none;
      box-sizing:border-box;
      border:2px solid rgba(0,0,0,.12);
    }

    .smallNote{font-size:12px;opacity:.85;margin-top:8px}

    .playerBtnWrap{margin-top:14px}
    .playerBigBtn{
      width:min(92vw, 520px);
      height:110px;
      border:none;border-radius:18px;
      background:var(--red);
      cursor:pointer;

      display:flex;
      align-items:center;
      justify-content:center;
      color:#fff;
      font-size:28px;
      font-weight:900;
      letter-spacing:.2px;
    }
    .disabled{opacity:.5;cursor:not-allowed}

    .footerBtn{
      width:100%;max-width:520px;margin:10px auto 18px;
      padding:14px;border:none;border-radius:12px;background:var(--yellow);cursor:pointer;color:#000;font-size:18px
    }
    a{color:inherit}

    .scoreBar{
      width:100%;
      display:flex;
      justify-content:center;
      align-items:center;
      gap:12px;
      margin:10px 0 8px;
      flex-wrap:wrap;
    }
    .teamLabel{
      font-weight:bold;
      font-size:14px;
      color:#fff;
      padding:6px 10px;
      border-radius:10px;
      white-space:nowrap;
    }
    .teamLabel.green{ background: rgba(26,163,74,.95); }
    .teamLabel.orange{ background: rgba(242,140,0,.95); }

    .scoreBoxBtn{
      min-width:64px;
      height:44px;
      border-radius:12px;
      border:none;
      background:#fff;
      color:#111;
      font-size:22px;
      font-weight:bold;
      cursor:default;
    }

    .scoreCtrl{
      position:relative;
      display:flex;
      flex-direction:column;
      gap:6px;
      align-items:center;
      z-index:5;
    }
    .scoreBoxBtn.clickable{
      cursor:pointer;
      box-shadow: 0 2px 0 rgba(0,0,0,.12);
      -webkit-tap-highlight-color: transparent;
      touch-action: manipulation;
    }
    .scoreBoxBtn.clickable:active{ transform: translateY(1px); box-shadow: 0 1px 0 rgba(0,0,0,.12); }

    .scorePicker{
      position:absolute;
      top:calc(100% + 6px);
      left:50%;
      transform:translateX(-50%) translateY(-6px);
      opacity:0;
      pointer-events:none;
      display:flex;
      gap:6px;
      flex-wrap:wrap;
      justify-content:center;
      width:min(280px, 86vw);
      background:rgba(255,255,255,.96);
      border:1px solid rgba(0,0,0,.08);
      border-radius:12px;
      padding:10px;
      box-shadow:0 10px 22px rgba(0,0,0,.20);
      transition: opacity .16s ease, transform .16s ease;
      z-index:50;
    }
    .scorePicker.show{
      opacity:1;
      transform:translateX(-50%) translateY(0);
      pointer-events:auto;
    }
    .scorePickBtn{
      width:38px;height:34px;
      border:none;border-radius:10px;
      background:rgba(31,79,163,.08);
      color:#111;
      font-weight:bold;
      cursor:pointer;
      -webkit-tap-highlight-color: transparent;
      touch-action: manipulation;
    }
    .scorePickBtn:active{ transform: translateY(1px); }

    .scoreHint{
      font-size:12px;
      opacity:.85;
      margin-top:4px;
    }

    .buyNowWrap{margin-top:12px;display:flex;justify-content:center}
    .buyNowBtn{
      width:min(92vw, 520px);
      padding:14px 16px;
      border:none;
      border-radius:14px;
      background:#8b5cf6;
      color:#fff;
      font-size:18px;
      font-weight:800;
      cursor:pointer;
      box-shadow:0 3px 0 rgba(0,0,0,.15);
      -webkit-tap-highlight-color: transparent;
      touch-action: manipulation;
    }
    .buyNowBtn:active{ transform: translateY(1px); box-shadow:0 2px 0 rgba(0,0,0,.15); }

    .waitingLayout{
      display:flex;
      flex-direction:column;
      min-height:60vh;
    }
    .waitingLayout .buyNowWrap{
      margin-top:auto;
      padding-top:12px;
    }

    .shareBackdrop{
      position:fixed;
      inset:0;
      background:rgba(0,0,0,.45);
      display:none;
      align-items:center;
      justify-content:center;
      z-index:9999;
      padding:14px;
      box-sizing:border-box;
    }
    .shareModal{
      width:min(92vw, 520px);
      background:#fff;
      color:#111;
      border-radius:14px;
      padding:14px;
      text-align:right;
      position:relative;
      box-sizing:border-box;
    }
    .shareClose{
      position:absolute;
      left:10px;
      top:10px;
      border:none;
      background:transparent;
      font-size:22px;
      cursor:pointer;
      line-height:1;
    }
    .shareTitle{
      font-weight:bold;
      margin:0 0 10px;
      text-align:center;
    }
    .shareChoices{display:flex;gap:10px;flex-wrap:wrap;justify-content:center;margin:10px 0 8px}
    .sharePanel{
      display:none;
      background:rgba(31,79,163,.06);
      border:1px solid rgba(0,0,0,.08);
      border-radius:12px;
      padding:12px;
      text-align:center;
    }
    .shareCodeBig{
      font-size:34px;
      font-weight:bold;
      letter-spacing:2px;
      text-align:center;
      margin:6px 0 0;
    }
    .qrImg{
      width:220px;height:220px;
      display:block;
      margin:0 auto;
      border-radius:10px;
      background:#fff;
    }
    .shareSmall{
      font-size:12px;
      opacity:.85;
      text-align:center;
      margin-top:8px;
      word-break:break-all;
    }

    /* โ (ูุทููุจ ุณุงุจูุงู) ูุงูุฐุฉ ุฃุณุฆูุฉ ุงูููุฏู */
    .cqBackdrop{
      position:fixed;
      inset:0;
      background:rgba(0,0,0,.45);
      display:none;
      align-items:center;
      justify-content:center;
      z-index:9998;
      padding:14px;
      box-sizing:border-box;
    }
    .cqModal{
      width:min(92vw, 680px);
      max-height:min(82vh, 760px);
      overflow:auto;
      background:#fff;
      color:#111;
      border-radius:14px;
      padding:14px;
      text-align:right;
      position:relative;
      box-sizing:border-box;
    }
    .cqCloseRed{
      position:absolute;
      left:10px;
      top:10px;
      width:36px;
      height:36px;
      border:none;
      border-radius:10px;
      background:var(--red);
      color:#fff;
      font-size:22px;
      font-weight:900;
      cursor:pointer;
      line-height:1;
      display:flex;
      align-items:center;
      justify-content:center;
      -webkit-tap-highlight-color: transparent;
      touch-action: manipulation;
    }
    .cqCloseRed:active{ transform: translateY(1px); }

    .cqTitle{
      font-weight:900;
      margin:0 0 10px;
      text-align:center;
    }
    .cqHint{
      font-size:12px;
      opacity:.85;
      text-align:center;
      margin:0 0 12px;
    }

    .cqItem{
      border:1px solid rgba(0,0,0,.10);
      border-radius:12px;
      padding:8px 10px;
      margin:10px 0;
      background:rgba(31,79,163,.04);
    }
    .cqItem summary{
      cursor:pointer;
      font-weight:900;
      list-style:none;
      outline:none;
    }
    .cqItem summary::-webkit-details-marker{ display:none; }

    .cqLetterBody{
      margin-top:10px;
      display:flex;
      flex-direction:column;
      gap:10px;
    }
    .cqPair{
      border:1px solid rgba(0,0,0,.10);
      border-radius:12px;
      padding:10px;
      background:#fff;
    }
    .cqLbl{
      font-weight:900;
      margin:0 0 6px;
      text-align:right;
    }
    .cqTA{
      width:100%;
      box-sizing:border-box;
      padding:10px 10px;
      border-radius:12px;
      border:1px solid rgba(0,0,0,.12);
      font-size:15px;
      line-height:1.5;
      resize:none;
      outline:none;
      background:#fff;
      margin:0 0 10px;
    }
    .cqTA:last-child{ margin-bottom:0; }

    .cqAddBtn{
      width:54px;
      height:46px;
      border:none;
      border-radius:12px;
      background:var(--purple);
      color:#fff;
      font-size:26px;
      font-weight:900;
      cursor:pointer;
      box-shadow:0 2px 0 rgba(0,0,0,.12);
      -webkit-tap-highlight-color: transparent;
      touch-action: manipulation;
    }
    .cqAddBtn:active{ transform: translateY(1px); box-shadow:0 1px 0 rgba(0,0,0,.12); }
    .cqAddWrap{
      display:flex;
      justify-content:center;
      margin-top:2px;
    }

    .cqSaveFixed{
      position:sticky;
      bottom:10px;
      margin:10px auto 0;
      width:min(240px, 72%);
      border-radius:12px;
      font-weight:900;
      box-shadow:0 2px 0 rgba(0,0,0,.12);
    }
    .cqSavedMsg{
      font-size:12px;
      opacity:.9;
      text-align:center;
      margin-top:8px;
    }

    /* โ (ุฌุฏูุฏ) ุตูุญุฉ ุงูุฅุนุฏุงุฏุงุช ูุซู ุงูุตูุฑุฉ */
    .settingsBackdrop{
      position:fixed;
      inset:0;
      background:rgba(0,0,0,.35);
      display:none;
      align-items:center;
      justify-content:center;
      z-index:10050;
      padding:14px;
      box-sizing:border-box;
    }
    .settingsPanel{
      width:min(78vw, 360px);
      height:min(72vh, 560px);
      background: var(--yellow);
      border-radius:26px;
      border:8px solid rgba(0,0,0,.85);
      box-shadow:0 16px 30px rgba(0,0,0,.25);
      padding:18px 14px;
      box-sizing:border-box;
      display:flex;
      flex-direction:column;
      gap:18px;
    }

    /* โ (ูุทููุจ) ูุณุงูุงุช ุจูู ุฃุฒุฑุงุฑ ุงููุงุฆูุฉ ุงูุจูุถุงุก */
    #settingsMenu{
      display:flex;
      flex-direction:column;
      gap:14px;
    }

    .settingsBtn{
      width:100%;
      height:64px;
      border-radius:22px;
      border:4px solid rgba(0,0,0,.85);
      background:#fff;
      color:#111;
      font-weight:900;
      font-size:32px;
      cursor:pointer;
      -webkit-tap-highlight-color: transparent;
      touch-action: manipulation;
      box-shadow:0 6px 0 rgba(0,0,0,.18);
      margin:0;
    }
    .settingsBtn:active{ transform: translateY(1px); box-shadow:0 5px 0 rgba(0,0,0,.18); }

    .settingsView{
      display:none;
      width:100%;
      height:100%;
      overflow:auto;
      background:#fff;
      border-radius:18px;
      border:3px solid rgba(0,0,0,.25);
      padding:14px;
      box-sizing:border-box;
      color:#111;
      text-align:right;
    }
    .settingsView h3{
      margin:0 0 10px;
      text-align:center;
    }
    .settingsBackMini{
      width:100%;
      height:52px;
      border-radius:18px;
      border:3px solid rgba(0,0,0,.65);
      background:#fff;
      font-weight:900;
      cursor:pointer;
      margin-top:10px;
    }

    .timerMiniPicker{
      display:none;
      width:100%;
      border-radius:18px;
      border:3px solid rgba(0,0,0,.65);
      background:#fff;
      padding:10px;
      box-sizing:border-box;
    }
    .timerMiniList{
      display:flex;
      flex-direction:column;
      gap:10px;
    }
    .timerMiniItem{
      height:52px;
      border-radius:16px;
      border:3px solid rgba(0,0,0,.25);
      background:#fff;
      font-weight:900;
      font-size:22px;
      cursor:pointer;
      -webkit-tap-highlight-color: transparent;
      touch-action: manipulation;
    }
    .timerMiniItem:active{ transform: translateY(1px); }

  </style>
</head>
<body>
  <header>
    <div class="headerRow">
      <img class="logo" src="logo.png" alt="ุดุนุงุฑ ุตูุฏูู ุงููุณุงุจูุงุช">
      <h1>ุณุจุงู ุงูุญุฑูู</h1>
      <div id="gameName" class="gameName"></div>
    </div>
  </header>

  <div class="wrap">
    <div id="main" class="card">ุฌุงุฑู ุงูุชุญููู...</div>
    <button class="footerBtn" onclick="location.href='index.html'">ุงูุฑุฌูุน ููุฑุฆูุณูุฉ</button>
  </div>

  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.5/firebase-app.js";
    import { getDatabase, ref, onValue, update, runTransaction } from "https://www.gstatic.com/firebasejs/10.12.5/firebase-database.js";

    const firebaseConfig = {
      apiKey: "AIzaSyDy2FEg8Xj0pA05syDawTh37rI1NEbQTjQ",
      authDomain: "sabaq-alhorof.firebaseapp.com",
      databaseURL: "https://sabaq-alhorof-default-rtdb.europe-west1.firebasedatabase.app",
      projectId: "sabaq-alhorof",
      storageBucket: "sabaq-alhorof.firebasestorage.app",
      messagingSenderId: "1053646928152",
      appId: "1:1053646928152:web:032d50148c3a4f1148066d"
    };

    const MAPS = [
      [
        ["ุด","ุฃ","ุซ","ุฏ","ูู"],
        ["ู","ุญ","ุถ","ู","ู"],
        ["ุบ","ุธ","ู","ุฑ","ุน"],
        ["ุต","ุฒ","ุณ","ุท","ู"],
        ["ุฐ","ู","ุจ","ู","ุฌ"]
      ],
      [
        ["ู","ุต","ู","ุฏ","ุจ"],
        ["ุญ","ู","ุถ","ูู","ุซ"],
        ["ู","ุท","ุด","ุฒ","ู"],
        ["ุฃ","ุฑ","ุณ","ุธ","ุซ"],
        ["ุฐ","ุบ","ูู","ุน","ุฌ"]
      ],
      [
        ["ุฐ","ุฌ","ุฃ","ุจ","ุฑ"],
        ["ู","ุญ","ุฒ","ู","ุณ"],
        ["ุซ","ุธ","ู","ุถ","ุน"],
        ["ุต","ู","ุฏ","ุท","ุบ"],
        ["ู","ุฎ","ูู","ู","ู"]
      ]
    ];

    const QUESTIONS = {};
    const ALL_LETTERS = Array.from(new Set(MAPS.flat(2)));
    for(const L of ALL_LETTERS){
      QUESTIONS[L] = Array.from({length:25}, (_,i) => ({
        q: `(${i+1}) ุณุคุงู ูุญุฑู ${L}`,
        a: `${L}...`
      }));
    }

    QUESTIONS["ูู"] = [
      { q: "ูู ุงูุจููู ุงู ุงูุงุทุงุฑ ุงูุฐู ูุณุชุฎุฏู ูุฏุนู ุดูุฆ ูุง ููููู ุงู ูููู ูุนูููุงู ูุซู ุงููุจุงูู ุงู ูุนูููุงู ูุซู (โฆโฆ..)", a: "ูููู" },
      { q: "ูู ูุงููุฏู ูู ุงูุงูุนุงู ุงูู ุงูุญุฑู ุชูุฑุจุงู ุงูู ุงููู", a: "ูุฏู" },
      { q: "ูู ููุน ูู ุงูุดุนุฑ ูููุถ ุงููุฏูุญ ููููุชุจ ุนูุฏูุง ุงูุดุงุนุฑ ูุนุจุฑ ุนู ุณุฎุทุฉ ูุงุดูุฆุฒุงุฒู", a: "ูุฌุงุก" },
      { q: "ูู ูุจุงุช ุนุทุฑู ููุณุชุฎุฏู ูู ุงูุทุจุฎ ูุงููููุฉ ูููุนุฑู ุจู \"ููู ุงูุชูุงุจู\"ุ", a: "ููู" },
      { q: "ูู ูุฏููุฉ ูุงุจุงููุฉ ุชุนุฑุถุช ูุฃูู ููุจูุฉ ุฐุฑูุฉ", a: "ููุฑูุดููุง" },
      { q: "ูู ูู ุงููุจู ุงูุฐู ุงุฑุณูู ุงููู ุงูู ููู ุนุงุฏุ", a: "ููุฏ ุนููู ุงูุณูุงู" },
      { q: "ูู ุฃูู ูู ุณุนู ุจูู ุงูุตูุง ู ุงููุฑูุฉ ุ", a: "ูุงุฌุฑ ุงู ุงุณูุงุนูู ุนููู ุงูุณูุงู" },
      { q: "ูู ุตูุฉ ุจูู ุงููุดู ูุงูุฑูุถ", a: "ูุฑููู" },
      { q: "ูู ุงูููุงู ุงููุงุฑุบ ุงูุฐู ูุง ูุนูู ูู", a: "ูุฑุงุก" },
      { q: "ูู ูููุฉ ูู ุงููุบุฉ ุงูุนุฑุจูุฉ ุชุนูู ุงุนุทุงุก ุงูุดุฎุต ูุงูู ูุดุฎุต ุงุฎุฑ ุจูุง ุนูุถ", a: "ูุจู" },
      { q: "ูุงุฐุง ูุทูู ุนูู ุตูุช ุงูููุฌ", a: "ูุฏูุฑ" },
      { q: "ูู ูููุน ุดููุฑ ุนูู ุดุจูุฉ ุง๏ปนูุชุฑูุช ุฎุงุต ุจุฅูุดุงุก ุจุฑูุฏ ุฅููุชุฑููู ูุฌุงูู", a: "ููุชููู" },
      { q: "ูู ูุณูุณู ูุฑุชููู ูุฏูู ูุนุฑูู ุนูุฏ ุงูุทูุจูู ูุจุฏุฃ ุงุณูู ุจุญุฑู ูู", a: "ูุฒูู ุงูุฑุนุฏ" },
      { q: "ูู ูุถุจุฉ ุชูุน ูู ูุณุท ุงูููููุฉ ุงูุนุฑุจูุฉ ุงูุณุนูุฏูุฉ", a: "ูุถุจุฉ ูุฌุฏ" },
      { q: "ูู ุงูุญุงูุฉ ุงูุชู ูุดุนุฑ ุจูุง ุงูุงูุณุงู ุนูุฏูุง ูุตุจุญ ุฎุงุฆูุงู", a: "ููุน" },
      { q: "ุดุฎุตูุฉ ูู ุดุฎุตูุงุช ุงูููุซู ุนุจุฏุงููู ุงูุณุฏุญุงู ูู ูุณูุณู ุทุงุด ูุงุทุงุด", a: "ูุฏุจุฏุจ" },
      { q: "ูู ููุจ ูุทูู ุนูู ููุฉ ุณูุณูุฉ ุฌุจุงู ูุนุฑููุฉ ุนุงูููุงู", a: "ูููุงูุง" },
      { q: "ูู ุบุงุฒ ุฎููู ุฌุฏุงู ูุบูุฑ ูุงุจู ููุงุดุชุนุงู ููุณุชุฎุฏู ูู ุงูููุงุทูุฏ", a: "ูููููู" },
      { q: "ูุฏููุฉ ุฃููุงููุฉ ุชุนุชุจุฑ ูู ุฃูู ุงูููุงูุฆ ุงูุฃูุฑูุจูุฉ", a: "ูุงูุจูุฑุบ" },
      { q: "ูู ููุจุงุช ูู ุงูุงููุนุงูุงุช ุงูุดุฏูุฏุฉ ุงู ุงูุถุญู ูุงูุจูุงุก ุบูุฑ ุงูููุถุจุท", a: "ูุณุชูุฑูุง" },
      { q: "ูู ุงุณู ูุทูู ุนูู ุงูุงุดุฎุงุต ุงููุฐูู ูุชุฑููู ูุทููู ููุนูุด ูู ุจูุฏ ุขุฎุฑ", a: "ูุฌุฑุฉ" },
      { q: "ูู ูุดุงุท ููุชุธู ููุงุฑุณู ุงูุดุฎุต ูู ููุช ูุฑุงุบุฉ ฺฏ/ ุงูุฑุณู ุงู ุงูุทุจุฎ ุงูุฎโฆ", a: "ููุงูู" },
      { q: "ูู ุงููุทุฑ ุงูุฎููู ุงููุชูุงุตู ุงูุฐู ููุทู ุนูู ุฏูุนุงุช", a: "ูุชุงู" },
      { q: "ูู ููุงูุฉ ุงูุฑูููุฉ ุชุชููู ูู ุนุฏุฉ ุฌุฒ ูุชูุน ูู ุงููุญูุท ุงููุงุฏุฆ", a: "ูุงูุงู" },
      { q: "ูู ููุฑ ูุงุฆู ุถูู ูุฑุจุท ุงูุฎููุฌ ุงูุนุฑุจู ุจุฎููุฌ ุนููุงู ูุณูู ูุถูู โฆโฆ..ุ", a: "ูุฑูุฒ" }
    ];

    QUESTIONS["ุฏ"] = [
      { q: "ูู ููู ูุทูุจ ุจู ุงูุฅูุณุงู ุฅุซุจุงุช ุญู ุนูู ุนูู ุงูุบูุฑ ูู ุงููุญุงูู", a: "ุฏุนูู" },
      { q: "ูู ูู ูุฎุชุฑุน ุงูุงุทุงุฑุงุช ุงูููููุฎุฉ ููุณูุงุฑุงุช", a: "ุฌูู ุจููุฏ ุฏูููุจ" },
      { q: "ูู ุงููุงููู ุงูุฃุณุงุณู ุงูุฐู ูุญุฏุฏ ูุธุงู ุงูุญูู ูู ุงูุฏููุฉ ููุญุฏุฏ ุญููู ููุงุฌุจุงุช ุงูููุงุทููู", a: "ุฏุณุชูุฑ" },
      { q: "ูุณูู ุงููุธุงู ุงูุณูุงุณู ุงูุฐู ูุชููุฒ ุจุญูู ุงูุดุนุจ โฆ..", a: "ุฏูููุฑุงุทูุฉ" },
      { q: "ูุงูู ุงุณู ุงูู ุนููุฉ ุงุณูุงููุฉ ูู ุงูุชุงุฑูุฎ", a: "ุฏููุงุฑ" },
      { q: "ูู ุงูุฒูู ุงูุทููู ุงู ูุฏุฉ ุงูุญูุงุฉ ูููุง", a: "ุฏูุฑ" },
      { q: "ูุงูู ุนุงุตูุฉ ุฏููุฉ ุงูุณูุบุงู", a: "ุฏุงูุงุฑ" },
      { q: "ูู ุณูุงุฏ ุงูููู ูุถููุชู", a: "ุฏุฌู" },
      { q: "ูู ูุงุก ูู ูุฎุฑุฌ ูู ุงูุงุฑุถ ููู ููุฒู ูู ุงูุณูุงุก", a: "ุฏููุน" },
      { q: "ูู ุงููุฎุงุฏุน ุฃู ุงููุญุชุงู ูู ุฃููุงูู ูุงูุนุงูู", a: "ุฏุฌุงู" },
      { q: "ูู ุงูุงุญุชูุงู ูุงูุฎุฏุงุน ูุชุฏุจูุฑ ุงูุดุฑ ุจููุงุฑุฉ", a: "ูุฏูุฑ" },
      { q: "ูู ุตูู ุชูุฒุฌ ุจูู ุงููุทูุฉ ูุงูุฐูุงุก ูุฅุฏุฑุงู ุงูุงููุฑ", a: "ุฏูุงุก" },
      { q: "ูุงูู ุนุงุตูุฉ ุฏููุฉ ุชูุฒุงููุง", a: "ุฏุงุฑ ุงูุณูุงู" },
      { q: "ูู ูุฏู ุฌูููุฑูุฉ ูุตุฑ ุงูุนุฑุจ", a: "ุฏููุงุท" },
      { q: "ูู ุตุบูุฑ ุงูุฏุจ", a: "ุฏูุณู" },
      { q: "ูู ุงูุทุงุฆุฑ ุงูุฐู ูููู ุจุฃุจู ุงูููุถุงุช", a: "ุฏูู" },
      { q: "ูุงูู ุนุงุตูุฉ ุงูุฑููุฏุง", a: "ุฏุจูู" },
      { q: "ูุงูู ุงูุดูุก ุงูุฐู ุงูุฐู ููุณ ูู ููุทุฉ ุจุฏุงูุฉ ููุงูุญุชูู ุนูู ููุงูุฉ", a: "ุฏุงุฆุฑุฉ" },
      { q: "ูู ุงููุฑุถ ู ุงูุนูุฉ", a: "ุฏุงุก" },
      { q: "ูุงูู ุงูุญููุงู ุงูุจุญุฑู ุงูุฐู ููุตู ุจุฃูู ุงุฐูู ูุฎูููุงุช ุงูุจุญุฑ", a: "ุฏููููู" },
      { q: "ูู ุนูุณ ูููุฉ ูุงุชุญ", a: "ุฏุงูู" },
      { q: "ูู ุงูุณุญุงุจุฉ ูุซูุฑุฉ ุงููุทุฑ", a: "ุฏุงุฌูุฉ" },
      { q: "ุงููู ุงููุซู : ูู ุฎุฑุฌ ููโฆโฆ..ูู ููุฏุงุฑู", a: "ุฏุงุฑู" },
      { q: "ุงููู ุงููุซู : ูููโฆโฆ..ุฏูุงุก", a: "ุฏุงุก" },
      { q: "ูู ูุฑุงุฏู ูููุฉ โฆโฆุฅุดุงุฑุฉ", a: "ุฏูุงูุฉ" }
    ];

    QUESTIONS["ุฃ"] = [
      { q: "ูุญุฏุฉ ูููุงุณ ุดุฏุฉ ุงูุชูุงุฑ ุงูููุฑุจุงุฆู", a: "ุฃูุจูุฑ" },
      { q: "ูู ูู ุงูู ูู ุฌูุน ุงููุฑุขู ุงููุฑูู ุจูู ููุญูู", a: "ุงุจู ุจูุฑ ุงูุตุฏูู" },
      { q: "ูุงูู ุงููููุจ ุงูุฐู ููุนุฑู ุจุงููููุจ ุงูุงุฒุฑู", a: "ุงูุงุฑุถ" },
      { q: "ูุงูู ุงููุจู ุงูุฐู ุงูุฐู ุฃูุทูู ุนููู ููุจ ูุจู ุงูุตุจุฑ", a: "ุฃููุจ ุนููู ุงูุณูุงู" },
      { q: "ูู ุบุงุฒ ูุชููู ูู ุซูุงุซุฉ ุฐุฑุงุช ุฃูุณุฌูู ูููุฌุฏ ูู ุงูุบูุงู ุงูุฌูู ููุงุฑุถ ูุทุจูุฉ ูุดููุฑุฉ", a: "ุงูุงูุฒูู" },
      { q: "ูุงูู ุนุงุตูุฉ ุฏููุฉ ุงูุฅูุงุฑุงุช", a: "ุฃุจู ุธุจู" },
      { q: "ูู ูู ุงูุฑุฆูุณ ุงูุงูุฑููู ุงูุฐู ุงุตุฏุฑ ุงุนูุงู ุงูุชุญุฑูุฑ", a: "ุฃุจุฑุงูุงู ููููููู" },
      { q: "ุณูุฑุฉ ูู ุงููุฑุงู ุงููุฑูู ุทูู ุนูููุง ุงุณู ุงุฎุช ุงูุทูููุชูู", a: "ุงูุฃุนุฑุงู" },
      { q: "ูู ูู ุงูุดุงุนุฑ ุงูุนุฑุจู ุงูุฐู ูุนุชุจุฑ ุฃููุฑ ุงูุดุนุฑุงุก", a: "ุฃุญูุฏ ุดููู" },
      { q: "ูุงูู ุงุทูู ููุฑ ูู ุงูุนุงูู ุจุนุฏ ููุฑ ุงูููู", a: "ุงูุฃูุงุฒูู" },
      { q: "ูุงูู ุงูุดุฎุต ุงูุฐู ูุฑู ุตุฏููุฉ ูุนุฏูู ุจุนูู ูุงุญุฏุฉ", a: "ุงูุฃุนูุฑ" },
      { q: "ูุงูู ุงูุงุณู ุงูุฐู ููุทูู ุนูู ุงุณุจุงููุง ูุฏููุงู", a: "ุงูุฃูุฏูุณ" },
      { q: "ูุงูู ุงูุดูุก ุงูุฐู ูููุง ุชุญุฑู ุฎุทูุฉ ููุฏ ุฌุฒุก ูู ุฐููู", a: "ุงูุฅุจุฑุฉ" },
      { q: "ูุง ูู ุงุณู ุงูุงูุณุฌุฉ ุงูุชู ุชููู ุนูู ุฑุจุท ุงูุนุถูุงุช ุจุงูุนุธุงู", a: "ุฃูุชุงุฑ" },
      { q: "ูุงูู ููู ุงูุฒูุฑุฏ", a: "ุฃุฎุถุฑ" },
      { q: "ูุงูู ุนุงุตูุฉ ุชุฑููุง", a: "ุฃููุฑุฉ" },
      { q: "ูุงูู ุงูุฏููุฉ ุงูุชู ูุงุฒุช ุจุฃูู ูุณุฎุฉ ููุฃุณ ุงูุนุงูู", a: "ุฃูุฑูุบูุงู" },
      { q: "ูุงูู ุงุณู ุงููููุจ ุงูุฐู ุชุฑุชูุจู ุงูุซุงูุซ ูู ุงูููุงูุจ ุงูุดูุณูู", a: "ุงูุงุฑุถ" },
      { q: "ูู ุนุงุตูุฉ ุงููููุงู", a: "ุฃุซููุง" },
      { q: "ูู ุงุตุบุฑ ูุงุฑุฉ ูู ุงูุนุงูู ูู ุญูุซ ุงููุณุงุญุฉ", a: "ุงูุฑูุจุง" },
      { q: "ูุงูู ุงูููู ุงููุงุชุฌ ุนู ูุฒุฌ ุงูููู ุงูุงุตูุฑ ูุงูุงุฒุฑู", a: "ุงุฎุถุฑ" },
      { q: "ูู ูุฌุงู ููุชู ุจุญูุงูุฉ ุงูุฃูุธูุฉ ูุงูุดุจูุงุช ูุงูุจุฑุงูุฌ ูู ุงููุฌูุงุช ุงูุฑูููุฉ", a: "ุงูุงูู ุงูุณูุจุฑุงูู" },
      { q: "ุงููู ุงููุซู : ุงููุฑุฏ ุจุนูู โฆโฆ..ุบุฒุงู", a: "ุฃูู" },
      { q: "ูู ุนูู ููุชู ุจุฏุงุฑุณุฉ ุงูุทุจูุนุฉ ูุงููุงุฆูุงุช ุงูุญูุฉ", a: "ุฃุญูุงุก" },
      { q: "ูุงูู ูุนูู ูููุฉ ุฅูุงุทุฉ", a: "ุฅุฒุงูุฉ" }
    ];

    QUESTIONS["ุซ"] = [
      { q: "ูุงูู ุนุฏุฏ ุงูุญุฑูู ูู ุงูุฃุจุฌุฏูุฉ ุงูุนุฑุจูุฉ", a: "ุซูุงููุฉ ูุนุดุฑูู ุญุฑูุงู" },
      { q: "ุตูุฉ ูู ุฃูู ุตูุงุช ุงูุดุฌุงุนุฉ", a: "ุซุจุงุช" },
      { q: "ูู ูุตู ูุทูู ุนูู ูุซูุฑ ุงูููุงู", a: "ุซุฑุซุงุฑ" },
      { q: "ูู ุนุฏุฏ ููุงูุจ ุงููุฌููุนุฉ ุงูุดูุณูุฉ", a: "ุซูุงููุฉ" },
      { q: "ูุงูู ุนุฏุฏ ุงุฌุฒุงุก ุงููุฑุขู ุงููุฑูู", a: "ุซูุงุซูู ุฌุฒุกู" },
      { q: "ูู ุงูู ุงูุฎุทุจุงุก ุงููุณูููู ููููุจ ุจุฎุทูุจ ุงูุฑุณูู", a: "ุซุงุจุช ุจู ููุณ" },
      { q: "ูู ููุทูุฉ ูู ุงููุถุงุก ุญูุซ ุงูุฌุงุฐุจูุฉ ูููุฉ ูุฏุฑุฌุฉ ุงูู ูุงูุณุชุทูุน ุงุญุฏ ุงููุฑูุจ ูููุง ุ ุญุชู ุงูุถูุก", a: "ุงูุซูุจ ุงูุงุณูุฏ" },
      { q: "ูุงูู ุนุฏุฏ ุงููุงุนุจูู ูู ูุนุจุฉ ุงููุฑุฉ ุงูุญุฏูุฏูุฉ", a: "ุซูุงุซุฉ ูุงุนุจูู" },
      { q: "ูู ุนุฏุฏ ููุฑุงุช ุงูุนููุฏ ุงูููุฑู", a: "ุซูุงุซุฉ ูุซูุงุซูู" },
      { q: "ูุทูู ูู ุงููุบุฉ ุงูุนุฑุจูุฉ ุงููุตุญู ุนูู ุงูุฌูุงุนุฉ ูู ุงููุงุณ", a: "ุซููุฉ" },
      { q: "ุจูุฏุฉ ุงูุฑุญุงูุฉ ุงูุนุฑุจู ุงููุดููุฑ ุฃุญูุฏ ุจู ูุงุฌุฏ ูุฑุจ ุงูุฑูุงุถ (ูู ุงูุณุนูุฏูุฉ)", a: "ุซุฑูุฏุง" },
      { q: "ูุงูู ุงุณู ุงูุณุจุนุฉ ูุฌูู ุงููุชูุงุตูุฉ ูู ุงูุณูุงุก", a: "ุซุฑูุง" },
      { q: "ูู ุชุณุชุบุฑู ุงูุงุฑุถ ููุฏูุฑุงู ุญูู ุงูุดูุณ", a: "ุซูุงุซ ูุฃุฆู ูุฎูุณุฉ ูุณุชูู ูููุงู" },
      { q: "ูููุฉ ุชุณุชุทูุน ุฃู ุชูุฑุฃูุง ูู ุงููููู ู ุงูุดูุงู", a: "ุซูุซ" },
      { q: "ูู ูุฑุถ ูุตูุจ ูุฑูุฉ ุดุนุฑ ุงูุงูุณุงู", a: "ุซุนูุจุฉ" },
      { q: "ูู ุงูุทุงุฆุฑ ุงูุฐู ูููู ุจุฃุจู ุงูููุถุงุช", a: "ุฏูู" },
      { q: "ุงุณู ูุจุงุช ูุณุชุฎุฏู ูู ุงูุทุจ ููุถุงุฏ ููุงูุชูุงุจ", a: "ุซูู" },
      { q: "ูู ูุฏููุฉ ุณุนูุฏูุฉ ุณุงุญููุฉ ุนูู ุงูุจุญุฑ ุงูุงุญูุฑ", a: "ุซูู" },
      { q: "ูู ููุฑุฉ ุงููุงู ููุซุฑุชู", a: "ุซุฑุงุก" },
      { q: "ูุฑุงุฏู ูููุฉ ูุฒู", a: "ุซูู" },
      { q: "ูู ุงููุงุก ุงูููููุฑ ุจุบุฒุงุฑุฉ ู ุณููุงูู ุดุฏูุฏ", a: "ุซุฌุงุฌ" },
      { q: "ูุงูู ุงูุตูุช ุงูุชู ุชุตุฏุฑุฉ ุงูุดุงุฉ ุงู ุงูุฎุฑูู ูู ุงููุบุฉ ุงูุนุฑุจูุฉ", a: "ุซุบุงุก" },
      { q: "ูุงูู ุงูุงุณู ุงูุงุฎูุฑ ููุญุฌุงุฌ ุจู ููุณู", a: "ุงูุซููู" },
      { q: "ูู ุนูุณ ูููุฉ ูุชุญุฑู", a: "ุซุงุจุช" }
    ];

    QUESTIONS["ุด"] = [
      { q: "ูู ูุณุชุนูู ูุชุซุจูุช ุงูุดููุน ููู ููุฒููุฉ", a: "ุดูุนุฏุงู" },
      { q: "ูู ุงููุงุก ุงูุฌุงุฑู ูุงููุชุณุงูุท ูู ุงูุฌุจู", a: "ุดูุงู" },
      { q: "ูุงูู ุงุณู ุตุบูุฑ ุงูุถูุฏุน", a: "ุดุฑุบูู" },
      { q: "ูุงูู ุงูุณูุฑุฉ ุงูุชู ุชุณูู ุงูุฌุงูุนุฉ", a: "ุงูุดุนุฑุงุก" },
      { q: "ูู ูู ุงููุฑุฃุฉ ุงูุชู ุญููุช ูุตุฑ 80 ูููุงู ุจุนุฏ ููุงุฉ ุฒูุฌูุง", a: "ุดุฌุฑุฉ ุงูุฏุฑ" },
      { q: "ูู ุงูุฎุตุงู ูุงููุทูุนุฉ ุจูู ูุฑุฏ ุฃู ุฌูุงุนุฉ ุฃุฎุฑู", a: "ุดูุงู" },
      { q: "ูุงูู ุงุณู ุงูุณุจุช ูุจู ุงูุงุณูุงู", a: "ุดูุงุฑ" },
      { q: "ูู ุงููุทุน ุงูุตุบูุฑุฉ ุงููุชุทุงูุฑุฉ ูู ููุจูุฉ ูุง", a: "ุดุธุงูุง" },
      { q: "ูู ูุงูุชุทุงุจุฑ ูู ุงููุงุฑ", a: "ุดุฑุงุฑุฉ" },
      { q: "ูู ุงุณู ููุถูุก ุงูุฐู ููุทูู ูู ููุงู ูุงุญุฏ ุจุงุณุชูุงูู", a: "ุดุนุงุน" },
      { q: "ูู ุงุณู ูู ุงุณูุงุก ุงูุตููุฑ", a: "ุดุงููู" },
      { q: "ูู ุงุณู ููุทูู ุนูู ุงูุจุฎูู ุงูุญุฑูุต ุนูู ุงููุงู", a: "ุดุญูุญ" },
      { q: "ูู ูุนุจุฉ ุชููุนุจ ุนูู ููุญ ูุชููู ูู ููููู ููุท", a: "ุดุทุฑูุฌ" },
      { q: "ูุง ูู ุงุญุฏู ูุฑุงุญู ุชุทูุฑ ุงููุฑุงุดุฉ", a: "ุดุฑููุฉ" },
      { q: "ูู ุงุณู ููุทูู ุนูู ุตุบูุฑ ุงูุบุฒุงู", a: "ุดุงุฏู" },
      { q: "ูู ุงูุนูุฉ ุชููู ุงูุฏู ูู ุงูููุจ ุงูู ุฌููุน ุงูุญุงุก ุงูุฌุณู", a: "ุดุฑุงููู" },
      { q: "ูู ูุทุนุฉ ูุจูุฑุฉ ูู ุงูููุงุด ูุชู ุชุนูููุฉ ูู ุงูุณูููุฉ ูุตุฏ ุงูุฑูุงุญ", a: "ุดุฑุงุน" },
      { q: "ูู ุนูุณ ูููุฉ ุถุนูู", a: "ุดุฏูุฏ" },
      { q: "ูู ุนูุณ ูููุฉ ุฌุจุงู", a: "ุดุฌุงุน" },
      { q: "ูู ูุฑุงุฏู ููููุฉ ูุงุณู", a: "ุดุฑุณ" },
      { q: "ูู ุงุณู ุดุงุฑุน ูู ุดููุฑ ูู ูุฏููุฉ ุจุงุฑูุณ", a: "ุดุงูุฒููุฒูู" },
      { q: "ูู ูุฏููุฉ ุณุงุญููุฉ ูู ูุตุฑ", a: "ุดุฑู ุงูุดูุฎ" },
      { q: "ูู ูุงูุทูู ุนูู ุงูุงุฎุจุงุฑ ุงููุงุฐุจุฉ", a: "ุดุงุฆุนุงุช" },
      { q: "ูุง ูู ุงููุงุฏุฉ ุชูุฑุฒูุง ุงูุงุฐู ูุญูุงูุชูุง", a: "ุดูุน" },
      { q: "ูู ูุฌููุนุฉ ูู ุงูุนููู ุงูุฏูููุฉ ุงูุชู ุชุฏุฑุณ ูุชููู ูุชุทุจู ุฃุญูุงู ุงูุฅุณูุงู", a: "ุดุฑูุนุฉ" }
    ];

    QUESTIONS["ู"] = [
      { q: "ูุงูู ุงูุนูุตุฑ ุงูููููุงุฆู ุงูุฐู ูู ุงูุฑูุฒ C", a: "ูุฑุจูู" },
      { q: "ุตูู ุงุฎุฑุฌุช ุงุจููุณ ูู ุงูุฌูุฉ", a: "ุงููุจุฑ" },
      { q: "ูู ุดูุก ูู ุฌูุงุญุงู ููุงูู ูุงูุทูุฑ", a: "ูุชุงุจ" },
      { q: "ูู ูุฌูุณ ุชุตุฏุฑ ููู ุงููุฑุงุฑุงุช ูู ุงูููุงูุงุช ุงููุชุญุฏุฉ ุงูุงูุฑูููุฉ", a: "ูููุบุฑุณ" },
      { q: "ูู ุงูุตุฑ ุณูุฑุฉ ูู ุงููุฑุขู ุงููุฑูู", a: "ุงูููุซุฑ" },
      { q: "ูู ูุญุฏุฉ ููุงุณ ุงููุชูุฉ", a: "ูููู" },
      { q: "ูู ุงูุฑูุงุถุฉ ุงูุฑุณููุฉ ูู ุฏููุฉ ุงููุงููุง", a: "ูุฑุฉ ุงููุฏู" },
      { q: "ูู ุงููุนุจุฉ ุงูุงูุซุฑ ุชุฃุซูุฑุงู ูุดุนุจูุฉ ูู ุฏููุฉ ุงูููุฏ", a: "ูุฑููุช" },
      { q: "ูุงูู ุงุณู ุงุจู ุงููุจู ููุญ ุงูุฐู ุบุฑู ูู ุงูุทููุงู", a: "ููุนุงู" },
      { q: "ูู ุนุงุตูุฉ ูุงููุฒูุง", a: "ููุงูุงููุจูุฑ" },
      { q: "ูู ุนูู ุฃูุฌุจู ุฏูููุง ุงูุญููู ููุญู ุฐูุจ ูุนูู", a: "ููุงุฑุฉ" },
      { q: "ูู ุญุจุณ ุงูุบุถุจ ุงูุดุฏูุฏ ููุชูู ูุนุฏู ุฅุธูุงุฑู", a: "ูุธู ุงูุบูุธ" },
      { q: "ูู ุฌุนุจุฉ ุตุบูุฑุฉ ุชูุถุน ูููุง ุงููุจุงู ุงู ุงูุงุณูู", a: "ููุงูู" },
      { q: "ูู ูุตุฏ ุฅูุฐุงุก ุงูุงุฎุฑูู ุฏูู ุนูููู", a: "ููุฏ" },
      { q: "ูู ุงุณู ููุฑ ูู ุงูุฌูุฉ", a: "ููุซุฑ" },
      { q: "ูุง ุงูุญููุงู ุงูุฃููู ุงูุฐู ููุนูุฏู ูููููุง ููููุนูุช ุจุฃููู ุฃูุถู ุตุฏูู ููุฅูุณุงูุ", a: "ููุจ" },
      { q: "ูุณุชุฎุฑุฌ ุงูุนูุจุฑ ููโฆ.ุ", a: "ูุจุฏ ุงูุญูุช" },
      { q: "ูุงูู ุงุณู ุงูุนููุฉ ุงูุฑุณููุฉ ูู ุงููุฑููุฌ", a: "ูุฑููุฉ" },
      { q: "ูู ุญูุฑุฉ ูุจูุฑุฉ ุชุญุช ุงูุฃุฑุถ ุฃู ูู ุฌุจู", a: "ููู" },
      { q: "ูู ุนุงุตูุฉ ุงููุฑุงููุง", a: "ูููู" },
      { q: "ูู ูุงุฏุฉ ููุจูุฉ ุชูุฌุฏ ูู ุงููููุฉ ูุงูุดุงู ุจูุซุฑุฉ.", a: "ูุงูููู" },
      { q: "ูู ูุจูู ุตุบูุฑ ูุจุณูุท ุนุงุฏุฉู ูุจูู ุจุงูุฎุดุจ", a: "ููุฎ" },
      { q: "ูู ุงุณู ุดุงูู ูุตู ุงูููุงูุจ ูุงููุฌูู ูุงููุฌุฑุงุช", a: "ููู" },
      { q: "ูู ูู ุงูุธูุงูุฑ ุงูููููุฉ ููุดูุณ", a: "ูุณูู" },
      { q: "ูุงูู ุนูุณ ูููุฉ ูููู", a: "ูุซูุฑ" }
    ];

    QUESTIONS["ู"] = [
      { q: "ุจูุงุฐุง ููููุจ ุงูููุชุฎุจ ุงูุชููุณู", a: "ูุณูุฑ ูุฑุทุงุฌ" },
      { q: "ุจูุงุฐุง ุชุณูู ุงูุฑุบุจุฉ ูู ุงูููู ุงู ุงูููู ุงูุฎููู", a: "ูุนุงุณ" },
      { q: "ูู ุชูุฏูู ุงูุงุฑุดุงุฏ ูู ุงูููุจ ูุฅุฑุงุฏุฉ ุงูุฎูุฑ ููุงุฎุฑูู", a: "ูุตูุญุฉ" },
      { q: "ูุงูู ุงูุจุฑ ุทุงุฆุฑ ูู ุงูุนุงูู", a: "ูุนุงูุฉ" },
      { q: "ูู ูุงุฏู ููุน ูู ุฌููุจ ุงูุทุงููุง", a: "ูุงุจููู" },
      { q: "ุฎูู ูููุง ุงุจููุณ ุ", a: "ูุงุฑ" },
      { q: "ูุจู ุณููุช ุณูุฑุฉ ูู ุงููุฑุงู ุจุฃุณูู ? ", a: "ููุญ ุนููู ุงูุณูุงู" },
      { q: "ูุงู ุงูุฑุณูู ุตูู ุงููู ุนููู ูุณูู ูุงูุฏุฎู ุงูุฌูุฉโฆ..ุ", a: "ููุงู" },
      { q: "ุงูููู ุงูุฐู ุงูุฑ ุจุญุฑู ุงููุจู ุงุจุฑุงููู ุนููู ุงูุณูุงูุ", a: "ุงูููุฑูุฏ" },
      { q: "ูู ุงูุณุงุฆู ุงูุฒูุชู ุงูุฐู ูุดุชู ููู ุฃููุงุน ุงููููุฏ", a: "ููุท" }
    ];

    QUESTIONS["ุถ"] = [
      { q: "ูู ุงูุงุญุชูุงุฌ ุงูุดุฏูุฏ ุงูุฐู ููุญูู ุงูุฅูุณุงู ุนูู ูุง ููู ุถุฑุฑ", a: "ุถุฑูุฑุฉ" },
      { q: "ูู ุงูุญุงูุฉ ุงูููุณูุฉ ุงูุชู ูุดุนุฑ ูููุง ุงูุฅูุณุงู ุจุงููุจุงุถู ูุนุฏู ุงุฑุชูุงุญ", a: "ุถูู" },
      { q: "ูุง ุงูุชุนุจูุฑ ุงููุฌูู ุฃู ุงูุตูุชู ุงูุฐู ูุฏู ุนูู ุงููุฑุญ ูุงูุณุฑูุฑ", a: "ุถุญูุฉ" },
      { q: "ูุง ุงูุญุงูุฉ ุงููุฑุถูุฉ ุงูุชู ุชุฑุชูุน ูููุง ููุฉ ุงูุฏูุน ุฏุงุฎู ุงูุฃูุนูุฉ ุงูุฏูููุฉ", a: "ุถุบุท" },
      { q: "ูุง ุงููุตุทูุญ ุงูุทุจู ุงูุฐู ูุฏูู ุนูู ุงูููุงุด ุงููุณูุฌ ุฃู ุชููููุต ุญุฌูู ูุน ุงูุฒูู", a: "ุถููุฑ" },
      { q: "ูุง ุงููููุฉ ุงูุชู ุชุนุจููุฑ ุนู ุงููุณูุฉ ูุงูููุฉ ุงูุดุฏูุฏุฉ ูู ุงูุงุนุชุฏุงุก ุฃู ุงููุฌูู", a: "ุถุฑุงูุฉ" },
      { q: "ูู ุงูุญุงูุฉ ุงูููุณูุฉ ุงูุชู ูุดุนุฑ ูููุง ุงูุฅูุณุงู ุจุงูููู ูุงูุงูุฒุนุงุฌ ูุณูุก ุงูุฃูุถุงุน", a: "ุถุฌุฑ" },
      { q: "ูู ุงูุตูุงุฉ ุงููุงููุฉ ุงูุชู ุชูุคุฏูู ูู ุงูุตุจุงุญ ุจุนุฏ ุดุฑูู ุงูุดูุณ ูุงุฑุชูุงุนูุง ูููููุง", a: "ุถุญู" },
      { q: "ูู ููุทูุฉ ุณูููุฉ ุชูุน ุนูู ุฃุทุฑุงู ุงููุฏููุฉ ุฃู ุงูุจูุฏุฉ ุงูุฑุฆูุณูุฉ", a: "ุถุงุญูุฉ" },
      { q: "ูู ุญููุงู ูุนุด ูู ุจูุฑู ุงููุงุก", a: "ุถูุฏุน" },
      { q: "ูู ุฌุฒุก ููุญูู ูู ุงูููุต ุงูุตุฏุฑู ูุญูุงูุฉ ุงุนุถุงุก ุงูุตุฏุฑ", a: "ุถูุน" },
      { q: "ูุง ุงูุญุงูุฉ ุงูุชู ูููุฏ ูููุง ุงูุฅูุณุงู ุงูุณูุทุฑุฉ ุฃู ูุชุจุฏูุฏ ูุงูู ููุฏูู", a: "ุถูุงุน" },
      { q: "ูู ุญุงูุฉ ุฌููุฉ ุชูู ูููุง ุงูุฑุคูุฉ", a: "ุถุจุงุจ" },
      { q: "ูู ูุจูุบ ูุงูู ุชูุฑุถู ุงูุฏููุฉ ุนูู ุงูุฃูุฑุงุฏ ูุงููุคุณุณุงุช ูููุณุงููุฉ ูู ุงููููุงุช ุงูุนุงูุฉุ", a: "ุถุฑูุจู" },
      { q: "ูู ูุตุทูุญ ูุดูุฑ ุฅูู ุงูุฃุตูุงุช ุงูุนุงููุฉ ุงููุฒุนุฌุฉ ูุงููุดุชุชุฉ", a: "ุถูุถุงุก" }
    ];

    QUESTIONS["ุญ"] = [
      { q: "ูู ุตูุฉ ุชุฏู ุนูู ุถุจุท ุงูููุณุ ูุงูุชุฃููุ ูุนุฏู ุงูุชุณุฑุน", a: "ุญูู" },
      { q: "ูู ุงูููุทูุฉ ุงูุฌุจููุฉ ูู ุบุฑุจ ุดุจู ุงูุฌุฒูุฑุฉ ุงูุนุฑุจูุฉ ูุงูุชู ุชุถู ููุฉ ูุงููุฏููุฉ", a: "ุญุฌุงุฒ" },
      { q: "ูุง ุงูุญููุงู ุงูุฑุฎูู ุงูุจุญุฑู ุงูุฐู ููุฑุฒ ุญุจุฑูุง ุฏุงูููุง ููุฏูุงุน ุนู ููุณู", a: "ุญุจุงุฑ" },
      { q: "ูู ูุฏููุฉ ูู ุดูุงู ุณูุฑูุง", a: "ุญูุงุฉ" },
      { q: "ูุง ุงูููุธ ุงูุฐู ููุทููู ุนูู ุงูุดุฏุฉ ูุงููุณูุฉ ูู ุงูุธุฑูู ุฃู ุงูุชุนุงูู", a: "ุญุฏุฉ" },
      { q: "ูุง ุงุณู ุงุจูุฉ ุนูุฑ ุจู ุงูุฎุทุงุจ ุฑุถู ุงููู ุนูู ูุฒูุฌุฉ ุงููุจู ุตูู ุงููู ุนููู ูุณูู", a: "ุญูุตุฉ ุฑุถู ุงููู ุนููุง" },
      { q: "ูู ุฎููุท ุงูุทุจูุนูุฉ ูุงุฎุฑุฉ ุชูุณุชุฎุฏู ูู ูุณุฌ ุงูุฃููุดุฉ ุงููุงุฎุฑุฉ", a: "ุญุฑูุฑ" },
      { q: "ูู ุงููุจุงุญ ุงูุฐู ุงูุญูุช ุนูู ุนูุฏุฉ ุงูุญุธุฑ ูู ุงูุดุฑูุนุฉ ุงูุฅุณูุงููุฉ", a: "ุญูุงู" },
      { q: "ูุง ุงููุจุงุช ุงูุฐู ูููููุน ูู ุงููุงุก ูููุนุฑูู ุจููุงุฆุฏู ุงูุตุญูุฉ ูู ุงูุทุจ ุงูุจุฏูู", a: "ุญูุจู" },
      { q: "ูุง ูู ุงููููุฉ ุงูุชู ุชุนูู ุฒุญู ุงูููููุฏ ุงูุตุบูุฑ", a: "ุญุจู" }
    ];

    QUESTIONS["ู"] = [
      { q: "ูู ุทุงุฆุฑ ูุฑูุฒ ุจุดูู ุฃุณุงุณู ุฅูู ุงูุณูุงู ูุงููุญุจุฉ ูุงูููุงุก ูุงูุฃูู ูุงูุชุฌุฏูุฏ", a: "ููุงูู" },
      { q: "ูู ุงูุญุถุงุฑุฉ ุงููุฏููุฉ ุงูุชู ุงุดุชูุฑุช ุจููุณูุฉ ุฃุฑุณุทู ูุฃููุงุทูู", a: "ูููุงู" },
      { q: "ูุจู ูุฑุฏ ุฐูุฑู ูู ุงููุฑุขูุ", a: "ูููุณ ุนููู ุงูุณูุงู" },
      { q: "ูุงู ุงููุจู ุตูู ุงููู ุนููู ูุณูู: \"ูู ูุง ูุฑุญู ูุง...\"ุ", a: "ููุฑุญู" },
      { q: "ุณูุฑุฉ ุชุณูู ููุจ ุงููุฑุงู ูุง ูู ุ", a: "ูุณ" },
      { q: "ูุงูู ุงุณู ุงููุฏููุฉ ุงููููุฑุฉ ูุจู ุงูุงุณูุงู", a: "ูุซุฑุจ" },
      { q: "ูู ูุจู ูุงุจู ูุจู", a: "ูุญูู" },
      { q: "ูู ูู ุฃุจูุงุก ููุญ ุนููู ุงูุณูุงูุ", a: "ูุงูุซ" },
      { q: "ูู ูู ุงููุจู ุงูุฐู ุฐููุฑ ูู ุงููุฑุขู ูุงุจูู ููุณูุ", a: "ูุนููุจ" },
      { q: "ูุชุนูุฏ ุนูู ุจูุฆุฉ ุบูุฑ ุจูุฆุชู ุงูุฃูููุ", a: "ูุชููู" }
    ];

    QUESTIONS["ุน"] = [
      { q: "ูู ุงูุตุญู ุงููุญููุฉ ุงููุนุฑููุฉ ูู ุงูููููุฉุ", a: "ุนูุงุธ" },
      { q: "ูุง ุงุณู ุงูุฃูุนูุฉ ุงูุฏูููุฉ ุงูุชู ุชุญูู ุงูุฏู ุจุนูุฏูุง ุนู ุงูููุจุ", a: "ุนุฑูู" },
      { q: "ูู ุงูุนุถู ุงููุณุคูู ุนู ุงูุชูููุฑ ูุงูุชุญููู ูุฏู ุงูุฅูุณุงูุ", a: "ุนูู" },
      { q: "ูุง ุงุณู ุงูุตุนูุจุฉ ุงูุชู ุชุนุชุฑุถ ุณุจูู ุชุญููู ุงููุฏูุ", a: "ุนุฑููู" },
      { q: "ูุง ุงุณู ุงูุฃูุณุฌุฉ ุงูุชู ุชููู ุงูุฌุณู ูู ุงูุญุฑูุฉ", a: "ุนุถูุงุช" },
      { q: "ุฃุตุบุฑ ุฅูุงุฑุฉ ูู ุฏููุฉ ุงูุฅูุงุฑุงุช ูู ุญูุซ ุงููุณุงุญุฉ", a: "ุนุฌูุงู" },
      { q: "ูู ุงููุนูููุงุช ุงูุนุงูุฉุ ุฏุนุงูุฉ ูููู ุนูููุง ุงููุจูู", a: "ุนููุฏ" },
      { q: "ูุงู ุงูุฑุณูู ุตูู ุงููู ุนููู ูุณูู ูู ุชุฑู ุตูุงุฉ ุงูุนุตุฑ ููุฏ ูุจุทโฆ..ุ", a: "ุนููู" },
      { q: "ูุง ุงุณู ุงูููููู ุงูุฐู ูุดูุฑ ุฅูู ุงูุชูููุฑ ุงูููุทูู ูุงุณุชุฎุฏุงู ุงูุนูู", a: "ุนููุงููุฉ" },
      { q: "ูุง ุงุณู ุงูููููู ุงูุฐู ูุนูู ุงููุณุงูุงุฉ ูุนุฏู ุงูุชูููุฒ ุจูู ุงููุงุณุ", a: "ุนุฏุงูุฉ" }
    ];

    QUESTIONS["ุฑ"] = [
      { q: "ูุง ูู ุงูุญููุงู ุงูุตุบูุฑ ุงูุฐูู ุงูุฐู ูุชููุฒ ุจููุงุน ุฃุณูุฏ ุญูู ุนููููุ", a: "ุฑุงููู" },
      { q: "ูุง ูู ุงููููุฉ ุงูุชู ุชุจุฏุฃ ุจุญุฑู ุงูุฑุงุก ูุชุนูู ุณูุฏ ุงููููุ", a: "ุฑุฆูุณ" },
      { q: "ูู ูู ุงุจูุฉ ุงูุฑุณูู ุตูู ุงููู ุนููู ูุณูู ุงูุชู ุชุฒูุฌูุง ุนุซูุงู ุจู ุนูุงูุ", a: "ุฑููุฉ" },
      { q: "ูุง ูู ุงูุฃุฌุฑ ุงููุฏููุน ููุงุก ุนูู ูุนูู ููู ููุช ูุญุฏุฏุ", a: "ุฑุงุชุจ" },
      { q: "ุดูุก ุชูุฑุฒู ุงูุฒูุฑุฉ ุ", a: "ุฑุญูู" },
      { q: "ูู ุงูุงุฒูุงุฑ ูุฑุฏ ูู ุงููุฑุงู ุงููุฑูู ?", a: "ุฑูุญุงู" },
      { q: "ุฅุฐุง ุฏุฎู ุฃุญุฏูู ุงููุณุฌุฏ ููุง ูุฌูุณ ุญุชู ูุตููุ", a: "ุฑูุนุชูู" },
      { q: "ุฌุจู ุนุฑูุงุช ูู ุฌุจู ุงูููู....ุ", a: "ุงูุฑุญูุฉ" },
      { q: "ูุฏู ุชุณุนู ุงูุญูููุงุช ูุชุญูููู ูุดุนูุจูุงุ", a: "ุฑูุงููุฉ" },
      { q: "ูู ุงูุถู ูุงุนุจ ูุฑุฉ ูุฏู ูู ุงูุจุฑุชุบุงูุ", a: "ุฑููุงูุฏู" }
    ];

    QUESTIONS["ู"] = [
      { q: "ูุง ูุง ุงุณูู ุงูุจูููุงุฑูุฉู ุงูุนุทุฑููุฉู ุงูุชู ุชูุณุชุฎุฑูุฌู ูู ูุญุงุกู ุดุฌุฑุฉู", a: "ูุฑูู" },
      { q: "ูุงู ูุทูู ุนูู ุงูุจุญุฑ ุงูุงุญูุฑ ูุฏููุง ุจุญุฑ ุงู ููููู ุ", a: "ููุฒู" },
      { q: "ูู ูุฌููุนุฉ ูู ุงูุบูู ูุงูุฃูุนุงู ูุบูุฑูุงุ", a: "ูุทูุน" },
      { q: "ูุง ุงููุตุทูุญู ุงูุฐู ููุทูููู ุนูู ูุนุฌูู ูุบูููู ูุดุฑุญู ูุนุงูู ุงููููุงุชุ", a: "ูุงููุณ" },
      { q: "ูู ูุฌุฑู ูุงุฆู ุตูุงุนู ูุดู ูุฃุบุฑุงุถ ุชุณููู ุงูููู ุงูุจุญุฑูุ", a: "ููุงุฉ" },
      { q: "ูุง ุงูุญููุงูู ุงูุจุญุฑููู ุงูุดููููู ุงูุฐู ูุนูุดู ูุฑุจู ุงูุดููุนุงุจู ุงููุฑุฌุงูููุฉุ", a: "ูููุฐ ุงูุจุญุฑ" },
      { q: "ูููุฉ ุฅูุทุงููุฉ ุงูุฃุตู ูุนูุงูุง ุงูุบุฒู ุจุงูุจุญุฑ ุจูุตุฏ ุงูููุจ ูุงูุณูุจุ", a: "ูุฑุตูู" },
      { q: "ูุง ุณูุณูุฉู ุงูุฌุจุงูู ุงููุงูุนุฉู ุจูู ุงูุจุญุฑู ุงูุฃุณูุฏ ูุจุญุฑู ูุฒูููุ", a: "ูููุงุฒ" },
      { q: "ูุง ุงูุทุจูุฉู ุงูุฎุงุฑุฌููุฉู ุงูุดููุงูุฉู ูู ุงูุนููู ุงูุชู ุชุญูููุง ูู ุงูุฃูุงูุ", a: "ูุฑููู" },
      { q: "ูู ุงูุชุงุฑูุฎุ ููุจ ุฃุจุงุทุฑุฉ ุงูุฑููุงู ูุจูุฒูุทุฉ.", a: "ููุงุตุฑู" }
    ];

    QUESTIONS["ุธ"] = [
      { q: "ูุง ุงูุญุงูุฉ ุงูุชู ุชุฏู ุนูู ุบูุงุจ ุงูุถูุก ูุงูุชุดุงุฑ ุงูุนุชูุฉุ", a: "ุธูุงู" },
      { q: "ูุง ุงูุงุณู ุงูุฏุงูู ุนูู ุงูุชููุน ูุงูุชุฑุฌูุญ ุจูุง ููููุ", a: "ุธู" },
      { q: "ูู ูุนุงุก ูุฑูู ูุฎุตูุต ููุถุน ุงูุฑุณุงุฆู ุฃู ุงููุณุชูุฏุงุชุ", a: "ุธุฑู" },
      { q: "ูุง ุงูุญุงูุฉ ุงูุชู ููุตุงุจ ูููุง ุงููุฑุก ุจุงูุนุฑุฌ ุฃู ุตุนูุจุฉ ุงููุดูุ", a: "ุถูุน" },
      { q: "ูุง ุงูููุธุฉ ุงูุชู ุชุนูู ุงููุทุงูุฉ ูุญูุณู ุงููุนุดุฑ ูุฎููุฉ ุงูุฑูุญุ", a: "ุธุฑุงูู" },
      { q: "ูุงุฐุง ูุนูู ููุฏุงู ุงููุงุก ูู ุงูุฌุณู ูุงูุฅุญุณุงุณ ุจุงูุนุทุดุ", a: "ุถูุฃ" },
      { q: "ูุง ุงูุตูุฉ ุงูุชู ุชูุทุจู ุนูู ูู ููุณู ููุชุนุฏูู ุนูู ุงูุขุฎุฑูู ุจุบูุฑ ุญูุ", a: "ุธุงูู" },
      { q: "ูุง ุงูุชุณุฑูุญุฉ ุงููุตููุนุฉ ูู ุชุฌุฏูู ุดุนุฑ ุงูุฑุฃุณ ูู ุฎูุตูู ููุชููุฉุ", a: "ุธููุฑุฉ" },
      { q: "ูุง ุงูุงุณู ุงูุฐู ููุทููู ุนูู ุงููุชุฑุฉ ุงููุงุญูุฉ ูููุชุตู ุงูููุงุฑ ุญูุซ ุชุดุชุฏู ุงูุญุฑุงุฑุฉุ", a: "ุธููุฑุฉ" },
      { q: "ูุง ุงููุญุงูุธุฉ ุงูุนููุงูููุฉ ุงููุงูุนุฉ ุฌููุจ ุงูุณูุทูุฉ ูุชุดุชูุฑ ุจุฎุฑูููุงุ", a: "ุธูุงุฑ" }
    ];

    QUESTIONS["ุบ"] = [
      { q: "ุฅุนุงูุฉ ููุตุฑุฉ ูู ุงูุดุฏุฉุ", a: "ุบูุซ" },
      { q: "ุชูููู ุนุธูู ูููู ุงูุตูุงุจุฉ ูุซู ุฐูู ุงูุฐู ููุฌุฏ ูู ุงูุฃูู ูุนุธุงู ุงูููุงุตูุ", a: "ุบุถุฑูู" },
      { q: "ูุง ุงูุญุงูุฉ ุงูุทุจูุฉ ุงูุฎุทูุฑุฉ ุงูุชู ูุญุฏุซ ูููุง ููุช ูุฃูุณุฌุฉ ุงูุฌุณู ุจุณุจุจ ููุต ุชุฏูู ุงูุฏูุ", a: "ุบุฑุบุฑููุง" },
      { q: "ูุง ุงูุญุงูุฉ ุงูุชู ูููุฏ ูููุง ุงูุดุฎุต ูุนูู ููุชุฑุฉ ุทูููุฉ ูุชูุฌุฉ ูุฑุถ ุฃู ุฅุตุงุจุฉุ", a: "ุบูุจูุจู" },
      { q: "ูุนุงูุจ ุจู ุงููุฑุก ุจุนุฏ ุงู ูุฎุงูู ุงูุธูุฉ ุงููุฑูุฑ", a: "ุบุฑุงูู" },
      { q: "ูุง ุงููุงุฆู ุงูุฎุฑุงูู ูู ุงูุชุฑุงุซ ุงูุนุฑุจู ุงูุฐู ูุชูููุฒ ุจูุธูุฑ ูุฎูู ูููุถุฑุจ ุจู ุงููุซูุ", a: "ุบูู" },
      { q: "ูุง ุงูุตูุฉ ุงูุชู ุชูุทุจู ุนูู ูู ููุณู ููุชุนุฏูู ุนูู ุงูุขุฎุฑูู ุจุบูุฑ ุญูุ", a: "ุธุงูู" },
      { q: "ูุฑุงุฏู ููููุฉ ูุงุฒ", a: "ุบููู" },
      { q: "ูุง ุงูุญุงูุฉ ุงูุชู ูููู ูููุง ุฃูุฑ ูุง ูุจูููุง ูุตุนุจ ุงูููู ูููุต ุงููุนูููุงุชุ", a: "ุบููุถ" },
      { q: "ูุง ุงููููุฉ ุงูุนุฑุจูุฉ ุงูุชู ุชุดูุฑ ุฅูู ุงููุชุฑุฉ ุงูุตุจุงุญูุฉ ุงูุจุงูุฑุฉุ", a: "ุบุฏุงู" }
    ];

    QUESTIONS["ู"] = [
      { q: "ุงูุชูุงู ุงูุตูุงุช ุงููููุฒุฉุ", a: "ูุฑุงุซุฉ" },
      { q: "ุฅุฏุฑุงู ุงูุดุฎุต ุฅุฏุฑุงูุง ุนุงูุง ุจูุง ูุฌุฑู ุญููู ูู ูุญุธุฉ ูุนููุฉุ", a: "ูุนู" },
      { q: "ูู ุณูุณูุฉ ุงูุฃูุนุงู ุงููุชูุฑุฑุฉ ุงูุชู ุชุณูุฑ ุนูู ููุท ูุงุญุฏุ", a: "ูุชูุฑุฉ" },
      { q: "ูู ุดูุก ููุชุดุฑ ุจุณุฑุนุฉ ููุคุฏู ุฅูู ูุง ูุดุจู ุงููุงุฑุซุฉุ", a: "ูุจุงุก" },
      { q: "ูุง ูู ุงูููุตุจ ุงูุฐู ูุนุทู ููู ูููู ูุณุคู ุนู ุจูุฏุฉ ูุง ูุฏููุงู", a: "ูุงูู" },
      { q: "ูุฑุงุฏู ูููุฉ ูุฎุฏู", a: "ูุณุงุฏุฉ" },
      { q: "ุตูู ุจุนุถ ุงูุญููุงูุงุชุ", a: "ูุจุฑ" },
      { q: "ููุฎูุถ ุจูู ุฌุจููู ููุณูุฑ ูุนู ุงููุงุก", a: "ูุงุฏู" },
      { q: "ุนุงุตูุฉ ุจูููุฏุงุ", a: "ูุงุฑุณู" },
      { q: "ุฃููู ุงููุซู ุงูุดุนุจู: \"ูุต ููุญ...\"ุ", a: "ูุฐุงุจ" }
    ];

    QUESTIONS["ุท"] = [
      { q: "ูุง ุงููุตุทูุญ ุงูุนุณูุฑู ุงูุฐู ูุดูุฑ ุฅูู ุชุฌูุน ุงูุฌููุฏ ูู ุตููู ููุธูุฉ", a: "ุทุงุจูุฑ" },
      { q: "ูุง ุงููุนุงุก ุงููุนุฏูู ุงูุตุบูุฑ ุงูุฐู ููุณุชุฎุฏูู ููุดุฑุจ ุฃู ุงูููู ูู ุงููุทุงุจุฎ ุงูุนุฑุจูุฉุ", a: "ุทุงุณู" },
      { q: "ูุง ุงูุขูุฉ ุงูุฅููุงุนูุฉ ุงูุชู ููุถุฑูุจ ุนูููุง ุจุงูุนุตุง ุฃู ุจุงููุฏ ูู ุงูุงุญุชูุงูุงุช ุงูุดุนุจูุฉุ", a: "ุทุจู" },
      { q: "ูุง ุงูุฅุฌุฑุงุก ุงูุดุฑุนู ุงูุฐู ููููู ุนูุฏ ุงูุฒูุงุฌ ูู ุงูุฅุณูุงูุ", a: "ุทูุงู" },
      { q: "ูู ุงููุงุฆู ุงูุตุบูุฑ ุงูุฐู ูุญูู ูู ุงูููุงุก ููุชุบุฐูู ุนูู ุฑุญูู ุงูุฃุฒูุงุฑุ", a: "ุทุงุฆุฑ ุงูุทูุงู" },
      { q: "ูุง ุงูุงุณู ุงูุฐู ููุทููู ุนูู ุงูุฌูุงุฒ ุงูุทุจู ุงูุชุนููุถู ุงูุฐู ูุญูู ูุญู ุฃุญุฏ ุงูุฃุทุฑุงูุ", a: "ุทุฑู ุตูุงุนู" },
      { q: "ูุง ูู ุงููุฑูุฉ ุงูุฑุณููุฉ ุงูุชู ุชูุซู ุงูุฃุฌุฑุฉ ุงูุชู ูุฏูุนูุง ุซููุงู ูููู ุงูุฑุณุงูุฉุ", a: "ุทุงุจุน ุจุฑูุฏู" },
      { q: "ุงูุฏูุฑ ูู ุงูุจูุงูุฉ", a: "ุทุงุจู" },
      { q: "ูุง ุงููุงุฏุฉ ุงูุจูุถุงุก ุงููุงุนูุฉ ุงูุชู ุชูุณุชุฎุฏู ูููุชุงุจุฉ", a: "ุทุจุงุดูุฑ" },
      { q: "ูุง ุงูุบุทุงุก ุงูุชูููุฏู ููุฑุฃุณ ุงูุฐู ุงุดุชูุฑ ูู ุจูุฏุงู ุงูุดุงู", a: "ุทุฑุจูุด" }
    ];

    QUESTIONS["ุณ"] = [
      { q: "ูู ุฏููุฉ ุนุฑุจูุฉ ุนูู ุชุทู ุนูู ุจุญุฑ ุงูุนุฑุจ", a: "ุณูุทูุฉ ุนูุงู" },
      { q: "ูุง ุงูุงุณู ุงููุฑุขูู ุงูุฐู ููุทููู ุนูู ููู ุงูููุงูุฉุ", a: "ุณุงุนุฉ" },
      { q: "ูู ุงูููุงู ุงูุฐู ุชุญูุธ ุจู ุงููุณุชูุฏุงุช ูุงูุฃูุฑุงูุ", a: "ุณุฌู" },
      { q: "ุจูุงุฐุง ููุจ  ุงูุตุญุงุจู ุงูุฌููู ุฎุงูุฏ ุจู ุงููููุฏ ุ", a: "ุณูู ุงููู ุงููุณููู" },
      { q: "ูุง ุงูุฐู ูุทูู ุนูู ูุตู ุงููุดุงูุฏ ูุญูุงุฑ ุงูุดุฎุตูุงุช ูู ุงูุนูู ุงูุณูููุงุฆูุ", a: "ุณููุงุฑูู" },
      { q: "ูุง ูู ุงูุจูุงุก ุงููุญูุฏ ุงูุฐู ุดูุฏู ุงูุฅูุณุงู ุนูู ุงูุฃุฑุถ ููููู ุฑุคูุชู ูู ุนูู ุณุทุญ ุงูููุฑุ", a: "ุณูุฑ ุงูุตูู ุงูุนุธูู" },
      { q: "ูู ูุงู ุนูุฑ ุงููุจู ุตูู ุงููู ุนููู ูุณูู ุญูู ุชููุช ุงูู ุ", a: "ุณุชุฉ ุณููุงุช" },
      { q: "ูู ูู ูุฌู ุงูุนุฑุจ ูุงูุณุนูุฏูุฉ ุงูุฐู ูุงู ูุฏูู ูู ูุฑูู ุจูุฌููุง ุฃุญุฏ ุฃุฌูู ุนุดุฑุฉ ุฃูุฏุงู ูู ูููุฏูุงู 1994ุ", a: "ุณุนูุฏ ุงูุนููุฑุงู" },
      { q: "ูู ูุตู ุชุฏูู ุนูู ุงูุนุฏุงู ุงูุญุฑูุฉุ", a: "ุณููู" },
      { q: "ูุง ูู ุงูุฏููุฉ ุงููุฏููุฉ ุงููุงูุนุฉ ุฌููุจ ุดุฑู ุขุณูุง ูุชูุนุฏ ูู ุฃุตุบุฑ ุงูุฏูู ูุณุงุญุฉูุ", a: "ุณูุบุงููุฑุฉ" }
    ];

    QUESTIONS["ุฒ"] = [
      { q: "ูุง ูู ุงูุฌุฒุก ูู ุฌุณู ุงูุฅูุณุงู ุงูุฐู ูุฏ ููุตุงุจ ุจุงูุชูุงุจ ููุณุชูุฒู ุงุณุชุฆุตุงููุงุ", a: "ุฒุงุฆุฏุฉ ุฏูุฏูุฉ" },
      { q: "ุงูุฑููู ูู ุงูุนูู ุฃู ุงูุณูุฑุ", a: "ุฒููู" },
      { q: "ูู ุซุงูุซ ุงุฑูุงู ุงูุงุณูุงู", a: "ุฒูุงุฉ" },
      { q: "ูู ูู ุงููุจู ุงูุฐู ูุงู ูุนูู ูู ุงููุฌุงุฑุฉ ูุฐูุฑ ูู ุงููุฑุขู ุงููุฑููุ", a: "ุฒูุฑูุง" },
      { q: "ุดุฌุฑุฉ ูุฃูู ูููุง ุฃูู ุงููุงุฑุ", a: "ุฒููู" },
      { q: "ูุง ุงูุงุณู ุงูุฐู ููุทููู ุนูู ุตูุช ุงูุฃุณุฏ ุจุงููุบุฉ ุงูุนุฑุจูุฉุ", a: "ุฑุฆูุฑ" },
      { q: "ูู ุงูุงุญุฌุงุฑ ุงููุฑููุฉุ", a: "ุฒุจุฑุฌุฏ" },
      { q: "ูุง ุงููุจุงุช ุงูุนุทุฑู ุฐู ุงูุฌุฐูุฑ ุงูุฐู ููุณุชุฎุฏู ูู ุงูุทูู ูุงูุดุฑุงุจุ", a: "ุฒูุฌุจูู" },
      { q: "ุฃุฏุงุฉ ูู ุงูุจูุฏููุฉ", a: "ุฒูุงุฏ" },
      { q: "ูุจููุฉ ูู ุงูููููุฉ ุงูุนุฑุจูุฉ.", a: "ุฒูุฑุงู" }
    ];

    QUESTIONS["ุต"] = [
      { q: "ููุทููู ุนูู ุงูุดุฎุต ุงููุฎุชุต ุจุฅุนุฏุงุฏ ุงูุฃุฏููุฉ", a: "ุตูุฏูู" },
      { q: "ุฃูู ุชูุญููุธ ุงูุฃููุงู ูุงูุฃุดูุงุก ุงูุซูููุฉ ุฏุงุฎู ุงูุจูููุ", a: "ุตูุฏูู ุงูุงูุงูุงุช" },
      { q: "ูู ูุฐููุฉ ุนุฑููุง ุงูุตููููู ููุฐ ุงููุฑู ุงูุซุงูุซ ุนุดุฑ ูุงุณุชุฎุฏูููุง ูู ุงูุฃูุฑุงุญ ูุงูุฃุนูุงุฏ ูุฅุฑูุงุจ ุงูุนุฏูุ", a: "ุตุงุฑูุฎ" },
      { q: "ูุง ูุชูุฑุจ ุจู ุงููุคูู  ุฅูู ุงูููุ", a: "ุตุฏูุฉ" },
      { q: "ูุง ุงูุฏููุฉ ุงูุฃูุฑูุจูุฉ ุงููุงูุนุฉ ูู ุงูุจููุงู ูุนุงุตูุชูุง ุจูุบุฑุงุฏุ", a: "ุตุฑุจูุง" },
      { q: "ูู ุงูุตูุช ุงูุนุงูู ุงูููุฒุนุฌ", a: "ุตุฎุจ" },
      { q: "ูู ูุงุญุฏ ูู ุฃุดูุฑ ูุฌูู ูุฑุฉ ุงููุฏู ูู ุงูุฎููุฌ ูุงูุณุนูุฏูุฉุ", a: "ุตุงูุญ ุงููุนููู" },
      { q: "ูู ูุตุทูุญ ูุดูุฑ ุฅูู ููุฉ ููุงููุฉ ุงููุงุฏุฉ ุถุฏ ุงููุณุฑ ุฃู ุงูุซููุ", a: "ุตูุงุจู" },
      { q: "ุงุชูุงู ูุชุถูู ุจูุนุง ุฃู ุดุฑุงุก ููููุชููุงุช", a: "ุตููู" },
      { q: "ูุงุฏุฉ ูุงุตูุฉ ุชูุณุชุฎุฑูุฌ ูู ุจุนุถ ุงูุฃุดุฌุงุฑ", a: "ุตูุบ" }
    ];

    QUESTIONS["ุฌ"] = [
      { q: "ูุง ุงููุตุทูุญ ุงูุดุฑุนู ุงูุฐู ูุดูุฑ ุฅูู ุงูุฐูุจ ุฃู ุงูุฎุทุฃ ุงูุฐู ูุณุชุญู ุนููุจุฉุ", a: "ุฌุฑููุฉ" },
      { q: "ูุง ุงูุฌุฒูุฑุฉ ุงููุงูุนุฉ ุบุฑุจ ุงูููููุฉ ุงูุนุฑุจูุฉ ุงูุณุนูุฏูุฉ ูุชุนุฏู ูู ุฃุจุฑุฒ ุงููุฌูุงุช ุงูุณูุงุญูุฉ ุนูู ุงูุจุญุฑ ุงูุฃุญูุฑุ", a: "ุฌุฒูุฑุฉ ูุฑุณุงู" },
      { q: "ูู ูู ุงูุดุงุนุฑ ุงูุฃููู ุงููุนุฑูู ุจููุงุฌุงุชู ูููุฑุฒุฏู ูุงูุฃุฎุทูุ", a: "ุฌุฑูุฑ" },
      { q: "ููุณูุนุฉ ุนุงูููุฉุ", a: "ุฌูููุณ" },
      { q: "ูุตู ููุงู ููุตูุช ุงููุฑุชูุน ุงูุนุงููุ", a: "ุฌููุฑู" },
      { q: "ูุง ุงููุงููุฉ ุงูุงุณุชูุงุฆูุฉ ุงูุบููุฉ ุจููุชุงููู C ูุชูุฒุฑุน ูู ุงูููุงุทู ุงูุญุงุฑุฉุ", a: "ุฌูุงูู" },
      { q: "ูุง ูู ุงููููุฉ ุงูุชู ุชุนูู ุถููุฑุฉ ุงูุดุนุฑุ", a: "ุฌุฏููุฉ" },
      { q: "ูุฑุงุฏู ููููุฉ ูุงุจุณ", a: "ุฌุงู" },
      { q: "ุญููุงู ุตุญุฑุงูู ุตุบูุฑ ูู ุงุฑุฌู ุทูููุฉ ูุฐูู ุทููู", a: "ุฌุฑุจูุน" },
      { q: "ุฅุญุฏู ุงููุณุชุนูุฑุงุช ุงูุจุฑูุทุงููุฉ ุฌููุจ ุฅุณุจุงููุงุ ุชูุน ุนูู ูุถูู ูุตู ุจูู ุงูุจุญุฑ ุงููุชูุณุท ูุงููุญูุท ุงูุฃุทูุณู", a: "ุฌุจู ุทุงุฑู" }
    ];

    QUESTIONS["ู"] = [
      { q: "ูู  ุนุถู ูู ุฌุณู ุงูุฅูุณุงู ูุชุญูู ูู ุงูุฐุงูุฑุฉุ", a: "ูุฎ" },
      { q: "ูู ููุงู ูุนุฑุถ ููู ุงูุงุดูุงุก ุงููููุฉ ูุงูุงุซุฑูุฉ", a: "ูุชุญู" },
      { q: "ูู ุฌูุงุฒ ููุชุฌ ุงูุทุงูุฉ ุงูุฐุฑูุฉ ููุณูุทุฑ ุนูููุงุ", a: "ููุงุนู ูููู" },
      { q: "ุงูุธูุฑ ุงูุญุงุฏ ุงููุณุชุฏูุ", a: "ูุฎูุจ" },
      { q: "ูุง ุงุณู ุงูุดุฑูุฉ ุงูุชู ุชูุชุฌ ูุธุงู ุงูุชุดุบูู Windowsุ", a: "ูุงููุฑูุณููุช" },
      { q: "ุขูุฉ ูุชุญููู ุทุงูุฉ ูุนููุฉ ุฅูู ุญุฑูุฉ ูููุงููููุฉุ", a: "ูุญุฑู ุงู ููููุฉ" },
      { q: "ููุน ูู ุงูููุงูุดุฉ ุญูุซ ุชุชุนุงุฑุถ ุงูุญุฌุฌุ", a: "ููุงุธุฑุฉ" },
      { q: "ุงูุฉ ุจุตุฑูุฉ ูุธููุชูุง ุชูุจูุฑ ุงูุงุฌุฒุงุก ุงูุฏูููุฉ", a: "ูุฌูุฑ" },
      { q: "ูุง ูู ุฃูู ูุณุชุดูู ูู ููุนู ุฃููู ูู ุงูููููุฉุ", a: "ูุณุชุดูู ุงูููู ููุตู ุงูุชุฎุตุตู" },
      { q: "ูุง ููู ุนูู ุงูุดุงุฑุน ุฏูู ุชุดุฏูุฏ ููู ุฃูู ูู ุงูุญุฑุงู ูู ุฑุชุจุชูุ.", a: "ููุฑูู" }
    ];

    QUESTIONS["ุจ"] = [
      { q: "ูุง ุงููููุฉ ุงูุชู ุชุนูู ุงูุฃุฎุฐ ุจุงูุนูู ูุงูุดุฏุฉุ", a: "ุจุทุด" },
      { q: "ุฃู ุจุญุฑ ููุน ุจูู ูุงุฑุชู ุฃูุฑูุจุง ูุฅูุฑูููุงุ", a: "ุจุญุฑ ุงููุชูุณุท" },
      { q: "ูุง ุงุณู ุงูุนูููุฉ ุงูุญูููุฉ ุงูุชู ุชุณุชุฎุฏููุง ุงููุจุงุชุงุช ูุตูุน ุงูุบุฐุงุก ูู ุฃุดุนุฉ ุงูุดูุณุ", a: "ุจูุงุก ุถูุฆู" },
      { q: "ูุง ุงูุจูุนุฉ ุงูุชู ุชูุช ุชุญุช ุงูุดุฌุฑุฉ ุจูู ุงููุณูููู ูุงููุจู ูุจู ูุชุญ ููุฉุ", a: "ุจูุนุฉ ุงูุฑุถูุงู" },
      { q: "ูู ูู ุฑุฌู ุงูุฃุนูุงู ุงูุฐู ุดุงุฑู ูู ุชุฃุณูุณ ุดุฑูุฉ ูุงููุฑูุณูftุ", a: "ุจูู ุบูุชุณ" },
      { q: "ุฃู ุญููุงู ููุนุชุจุฑ ุฑูุฒูุง ููุญูุงุธ ุนูู ุงูุจูุฆุฉ ูู ุงูุตููุ", a: "ุจุงูุฏุง" },
      { q: "ุขูุฉ ูู ุขูุงุช ุงููุฌุชูุน ููุนูุงูุง ุนุฏู ุชููุฑ ุงูุนูู ููุฑุงุบุจ ูููุ", a: "ุจุทุงูุฉ" },
      { q: "ูุง ุงุณู ุงููุฏููุฉ ุงูุฃูุฑูุจูุฉ ุงูุชู ุฏูุฑุช ูู ุงูุญุฑุจ ุงูุนุงูููุฉ ุงูุซุงููุฉ ูุฃุนูุฏ ุจูุงุคูุง ููุณูุชุ", a: "ุจุฑููู" },
      { q: "ูุง ุงูุนุดุจ ุงูุฐู ููุณุชุฎุฏู ุบุงูุจูุง ูู ุตูุน ุดุงู ููููุฏููุฆุ", a: "ุจุงุจููุฌ" },
      { q: "ูุฌููุนุฉ ุฎูุงูุง ูุฃุนูุฏุฉ ููุฑุจุงุฆูุฉ ูุชุตู ุจุนุถูุง ุจุจุนุถ ูุชูููุฏ ุทุงูุฉ ููุฑุจุงุฆูุฉุ", a: "ุจุทุงุฑูุฉ" }
    ];

    QUESTIONS["ู"] = [
      { q: "ุนุจุงุฑู ุนู ุญุฏูุฏุฉู ููุง ูุชููุตู ุจูุง ุชููุถุน ูู ูู ุงูุญุตุงู ุฃู ุงูุจูุบูู ุฃู ุงูุญูุงุฑ ูููุงุฏุชูุง.ุ", a: "ูุฌุงู" },
      { q: "ูุง ุงุณู ุงูููุญุฉ ุงููููุฉ ุงูุชู ุฑุณููุง ููููุงุฑุฏู ุฏุง ูููุดูุ", a: "ูููุงููุฒุง" },
      { q: "ุณุคุงู ููู ุบููุถ ุ", a: "ูุบุฒ" },
      { q: "ุทุงุฆุฑ ููุงุฌุฑ ูู ุฃุฑุฌู ุทูููุฉ", a: "ูููู" },
      { q: "ูุง ุงุณู ุงูููุจ ุงูุฐู ููุทูู ุนูู ุงูุฃุณุฏ ูู ุงููุบุฉ ุงูุนุฑุจูุฉุ", a: "ููุซ" },
      { q: "ููุจ ุงููุงุฑ ุงูุฎุงูุต ุงูุฐู ูุง ุฏุฎุงู ููู ุ", a: "ูุถู" },
      { q: "ูู ูุทุนุฉ ุงูููุงุด ุงููุตูุบุฉ ุงูุชู ุชูุถุน ุนูู ุฃูุงูู ุงูุฃูู", a: "ูุตูุฉ ุฌุฑูุญ" },
      { q: "ููุซ ูุงูุงู ูู ุงูููุงู ุ", a: "ูุจุซ" },
      { q: "ูุงุฐุง ูุณูู ุงููุดูุฏ ูู ุงููููู ุฅุฐุง ููุธุฑ ุฅููู ุจุนูุฏุงู ุนู ุจููุฉ ุงููุดุงูุฏุ", a: "ููุทุฉ" },
      { q: "ูุง ุงุณู ุงูููุณุฑุงุช ุงูุชู ุชูุณุชุฎุฏู ูู ุงูุญูููุงุช", a: "ููุฒ" }
    ];

    QUESTIONS["ุฐ"] = [
      { q: "ูุง ุงููููุฉ ุงูุฃุฎูุงููุฉ ุงูุชู ุชุนูู ุงูููุงุก ุจุงูุนูุฏ ูุญูุธ ุงูุญููู ูุงูุฃูุงูุฉุ", a: "ุฐูุฉ" },
      { q: "ูุง ุงูุตูุฉ ุงูุนูููุฉ ุงูุชู ุชุฏูู ุนูู ุณุฑุนุฉ ุงูุจุฏููุฉ ูุญุณู ุงููููุ", a: "ุฐูุงุก" },
      { q: "ูุง ุงูุดุนูุฑ ุงูุฐู ููุชุงุจ ุงูุฅูุณุงู ุนูุฏ ุญุฏูุซ ุฎูู ููุงุฌุฆ", a: "ุฐุนุฑ" },
      { q: "ุญุดุฑุฉ ุฐูุฑุช ูู ุงููุฑุงู ุงููุฑูู ุ", a: "ุฐุจุงุจุฉ" },
      { q: "ูุง ุงูููุฑุฏุฉ ุงูุนุฑุจูุฉ ุงูุชู ุชุฏูู ุนูู ุงูุดูุก ุงูููุฎุจููุฃ ูููุช ุงูุญุงุฌุฉ ูุงูุงุณุชุนุงูุฉ ุจูุ", a: "ุฐุฎุฑ" },
      { q: "ูู ุงูุดุฎุตูุฉ ุงููุฑุขููุฉ ุงูุชู ุงุฑุชุญูุช ุจูู ุงููุดุฑู ูุงููุบุฑุจ ูุฃูุงูุช ุณุฏููุง ุฃูุงู ูุฃุฌูุฌ ููุฃุฌูุฌุ", a: "ุฐู ุงููุฑููู" },
      { q: "ูุง ุงูุนูููุฉ ุงูุนูููุฉ ุงูุชู ูุฎุฒูู ูููุง ุงูุฅูุณุงู ูุนูููุงุชู ููุณุชุฑุฌุนูุง ุนูุฏ ุงูุญุงุฌุฉุ", a: "ุฐุงูุฑุฉ" },
      { q: "ูุง ุงูุญุฑู ุงูุชุงุณุน ูู ุญุฑูู ุงููุฌุงุก ูู ุงููุบุฉ ุงูุนุฑุจูุฉุ", a: "ุฐุงู" },
      { q: "ูุง ุงูุตูุฉ ุงูุชู ุชุนุจูุฑ ุนู ููุฏุงู ุงููุฑุก ุนูุฒูุชู ูุงุณุชูุงูุชู ููุบูุฑุ", a: "ุฐู" },
      { q: "ูุง ุงุณู ุงูููุณุฑุงุช ุงูุชู ุชูุณุชุฎุฏู ูู ุงูุญูููุงุช", a: "ููุฒ" }
    ];

    QUESTIONS["ุฎ"] = [
      { q: "ูู ููุจ ุฃุทูู ุนูู ุงููุจู ุฅุจุฑุงููู.", a: "ุฎููู ุงููู" },
      { q: "ูุงูู ุงูุฃุฑุถ ุงูุชู ูุชุญูุง ุงููุณูููู ูู ุนูุฏ ุงููุจู ุจุนุฏ ูุนุฑูุฉ ูุตูุฑุฉ ูุน ุงููููุฏุ", a: "ุฎูุจุฑ" },
      { q: "ูุง ูู ุงููุตุทูุญ ุงูุนุฑุจู ูุงููุฑุขูู ุงูุฐู ูุนูู ุฃู ุนุงูุจุฉ ุงูุฃูุฑ ูุฑุงุฆุญุฉ ุงููุณูุ", a: "ุฎุชุงููุง ูุณู" },
      { q: "ูู ุงูุชุฏุงุฏ ูุงุณุน ูู ุงูุฃุฑุถ ูุญุฏุซู ุจุญุฑุ", a: "ุฎููุฌ" },
      { q: "ุงูุชูุงู ููุตู ูู ููุถุนูุ", a: "ุฎูุน" },
      { q: "ูู ูุฌุงู ุงููุงูููุ ุงูุทุฑู ุงูุขุฎุฑ ูู ุงููุถูุฉ", a: "ุฎุตู" },
      { q: "ูุง ุงูููุธ ุงูุฐู ูุฏููู ุนูู ุงูุฅูุฌุงุฒ ูุงูุงุฎุชุตุงุฑ ูู ุฃู ุณูุงู ุฃู ูุตุ", a: "ุฎูุงุตุฉ" },
      { q: "ุงูุนูุงุฏ ุงููุณุงู ุนู ุงูููุงู ุ", a: "ุฎุฑุณ" },
      { q: "ูุง ุงููุนู ุงูุฐู ูุนูู ุงูุงุณุชุณูุงู ูุงูุฎุถูุน ูุน ุงูุนุฏุงู ุงูููุงููุฉุ", a: "ุฎููุน" },
      { q: "ูู ุจูุนูู ููุฏ ุจุนุถ ูุง ุนูุฏูุ", a: "ุฎุณุฑ" }
    ];

    const app = initializeApp(firebaseConfig);
    const db = getDatabase(app);

    const params = new URLSearchParams(location.search);
    const role = params.get("role");
    const code = params.get("code");
    const hostKey = params.get("key");
    const pid = params.get("pid");

    const main = document.getElementById("main");
    const gameNameEl = document.getElementById("gameName");

    const LETTER_ORDER = ["ุฃ","ุจ","ุช","ุซ","ุฌ","ุญ","ุฎ","ุฏ","ุฐ","ุฑ","ุฒ","ุณ","ุด","ุต","ุถ","ุท","ุธ","ุน","ุบ","ู","ู","ู","ู","ู","ู","ูู","ู","ู"];
    const GAME_LETTERS = LETTER_ORDER.filter(l => ALL_LETTERS.includes(l));

    function setGameName(raw){
      if(!gameNameEl) return;
      const s0 = String(raw ?? "").replace(/\s+/g, " ").trim();
      if(!s0){
        gameNameEl.innerHTML = "";
        return;
      }
      const MAX_CHARS = 80;
      let s = s0;
      if(s.length > MAX_CHARS){
        s = s.slice(0, MAX_CHARS - 1).trim() + "โฆ";
      }
      gameNameEl.innerHTML = `<span class="gnText">${escapeHtml(s)}</span>`;
    }

    if(!role || !code){
      main.textContent = "ุจูุงูุงุช ุงูุฏุฎูู ุบูุฑ ููุชููุฉ.";
      throw new Error("Missing params");
    }

    const roomRef = ref(db, `rooms/${code}`);

    function teamColor(team){
      return team === "green" ? "rgba(26,163,74,.9)" : "rgba(242,140,0,.9)";
    }

    function escapeHtml(s){
      return String(s ?? "").replace(/[&<>"']/g, c => ({
        "&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;"
      }[c]));
    }

    function cellKey(row,col){ return `${row}-${col}`; }

    const BBOX_CACHE = {};

    function detectHexBBox(img){
      const nw = img.naturalWidth, nh = img.naturalHeight;
      const maxW = 700;
      const scale = Math.min(1, maxW / nw);

      const cw = Math.round(nw * scale);
      const ch = Math.round(nh * scale);

      const canvas = document.createElement("canvas");
      canvas.width = cw; canvas.height = ch;
      const ctx = canvas.getContext("2d", { willReadFrequently:true });
      ctx.drawImage(img, 0, 0, cw, ch);

      const data = ctx.getImageData(0,0,cw,ch).data;

      let minX = cw, minY = ch, maxX = -1, maxY = -1;
      let found = false;

      const step = 2;
      for(let y=0; y<ch; y+=step){
        for(let x=0; x<cw; x+=step){
          const i = (y*cw + x) * 4;
          const r = data[i], g = data[i+1], b = data[i+2];
          const mx = Math.max(r,g,b), mn = Math.min(r,g,b);
          const avg = (r+g+b)/3;

          if(avg > 180 && (mx - mn) < 60){
            found = true;
            if(x < minX) minX = x;
            if(y < minY) minY = y;
            if(x > maxX) maxX = x;
            if(y > maxY) maxY = y;
          }
        }
      }

      if(!found){
        return { x0:0.12, y0:0.04, x1:0.90, y1:0.95 };
      }

      minX = Math.max(0, minX - 2);
      minY = Math.max(0, minY - 2);
      maxX = Math.min(cw - 1, maxX + 2);
      maxY = Math.min(ch - 1, maxY + 2);

      return {
        x0: minX / cw,
        y0: minY / ch,
        x1: (maxX + 1) / cw,
        y1: (maxY + 1) / ch,
      };
    }

    function setStateClass(el, st){
      el.classList.remove("state0","state1","state2","state3","pulse");
      el.classList.add(`state${st}`);
      if(st === 1) el.classList.add("pulse");
    }

    function hexPointsPointyTop(x, y, w, h){
      const pts = [
        [x + w/2, y],
        [x + w,   y + h*0.25],
        [x + w,   y + h*0.75],
        [x + w/2, y + h],
        [x,       y + h*0.75],
        [x,       y + h*0.25],
      ];
      return pts.map(p => `${p[0].toFixed(2)},${p[1].toFixed(2)}`).join(" ");
    }

    const TIMER_UI = {
      tick: null,
      lastSecond: null,
      latestTimer: null,
      isHost: false
    };

    function normalizeTimer(t){
      const sel = Number(t?.sel || 10);
      const dur = Number(t?.dur || sel);
      const running = !!t?.running;
      const startTs = Number(t?.startTs || 0);
      const done = !!t?.done;
      return { sel, dur, running, startTs, done };
    }

    function computeTimerView(t){
      const now = Date.now();
      const sel = Number(t.sel || 10);
      const dur = Number(t.dur || sel);
      const running = !!t.running;
      const startTs = Number(t.startTs || 0);
      const doneFlag = !!t.done;

      let remaining = sel;
      if(running && startTs){
        remaining = dur - Math.floor((now - startTs) / 1000);
      }else{
        remaining = sel;
      }
      if(!Number.isFinite(remaining)) remaining = sel;
      remaining = Math.max(0, remaining);

      const done = doneFlag || (running && remaining === 0);
      const inLast5 = running && remaining > 0 && remaining <= 5;
      return { sel, dur, running, startTs, remaining, done, inLast5 };
    }

    function applyTimerDom(){
      const clock = document.getElementById("timerClock");
      const numEl = document.getElementById("timerNumber");
      if(!clock || !numEl) return;

      const t = normalizeTimer(TIMER_UI.latestTimer || {});
      const view = computeTimerView(t);

      // ุฑูู ุฏุงุฆู ุฏุงุฎู ุงูุฏุงุฆุฑุฉ
      const displayNum = (view.running ? view.remaining : view.sel);
      numEl.textContent = String(displayNum);

      // ุขุฎุฑ 5 ุซูุงูู: ุงูุฑูู ุฃุญูุฑ + Pop
      numEl.classList.toggle("last5", !!view.inLast5);
      if(view.inLast5){
        if(TIMER_UI.lastSecond !== view.remaining){
          TIMER_UI.lastSecond = view.remaining;
          numEl.classList.remove("pop");
          void numEl.offsetWidth;
          numEl.classList.add("pop");
        }
      }else{
        TIMER_UI.lastSecond = null;
      }

      // ุนูุฏ ุงูุงูุชูุงุก: ูููุถ ุฃุญูุฑ/ุฃุจูุถ
      if(view.done){
        clock.classList.add("doneFlashing");
      }else{
        clock.classList.remove("doneFlashing");
      }

      // โ (ูุทููุจ) ุชุญุฏูุซ ุฅุทุงุฑ ุงููุคูุช ุงูุฏุงุฆุฑู (ูุชูุงูุต)
      const ring = document.getElementById("timerRingCircle");
      if(ring){
        const r = 54;
        const C = 2 * Math.PI * r;
        ring.style.strokeDasharray = String(C);

        let offset = 0; // 0 = ูุงููุ C = ูุฎุชูู
        if(view.done){
          offset = C;
        }else if(view.running){
          const ratio = (view.dur > 0) ? (view.remaining / view.dur) : 0;
          const clamped = Math.max(0, Math.min(1, ratio));
          offset = C * (1 - clamped);
        }else{
          offset = 0;
        }
        ring.style.strokeDashoffset = String(offset);
      }

      // ุชุซุจูุช done ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช ููููุฏู
      if(TIMER_UI.isHost){
        if(view.running && view.remaining === 0){
          update(ref(db, `rooms/${code}/timer`), { running:false, done:true });
        }
      }
    }

    function ensureTimerTicker(){
      if(TIMER_UI.tick) return;
      TIMER_UI.tick = setInterval(() => applyTimerDom(), 200);
    }

    function initTimerDefaultsIfNeeded(room){
      if(role !== "host") return;
      if(!room) return;

      const t = room.timer;
      if(t && typeof t === "object") return;

      const key = `__timer_init_${code}`;
      if(window[key]) return;
      window[key] = true;

      update(ref(db, `rooms/${code}/timer`), {
        sel: 10,
        dur: 10,
        running: false,
        startTs: 0,
        done: false
      });
    }

    if(!window.__scorePickerBound){
      window.__scorePickerBound = true;
      document.addEventListener("click", () => {
        document.querySelectorAll(".scorePicker.show").forEach(p => p.classList.remove("show"));
      });
    }

    function beep(){
      try{
        const AC = window.AudioContext || window.webkitAudioContext;
        if(!AC) return;
        const ctx = new AC();
        const o = ctx.createOscillator();
        const g = ctx.createGain();
        o.type = "sine";
        o.frequency.value = 880;
        g.gain.value = 0.12;
        o.connect(g); g.connect(ctx.destination);
        o.start();
        setTimeout(() => {
          o.stop();
          ctx.close();
        }, 300);
      }catch(e){}
    }

    function buildJoinUrl(roomCode){
      const u = new URL("join.html", location.href);
      u.searchParams.set("code", roomCode);
      return u.toString();
    }
    function buildQrUrl(dataUrl){
      const size = "220x220";
      return `https://api.qrserver.com/v1/create-qr-code/?size=${size}&data=${encodeURIComponent(dataUrl)}`;
    }
    async function copyText(txt){
      try{
        if(navigator.clipboard?.writeText){
          await navigator.clipboard.writeText(txt);
          return true;
        }
      }catch(e){}
      try{
        const ta = document.createElement("textarea");
        ta.value = txt;
        ta.style.position = "fixed";
        ta.style.left = "-9999px";
        document.body.appendChild(ta);
        ta.focus(); ta.select();
        const ok = document.execCommand("copy");
        document.body.removeChild(ta);
        return ok;
      }catch(e){}
      return false;
    }

    const STORE_URL = "https://sandooq-m.com";
    function openStoreUrl(){
      try{
        const w = window.open(STORE_URL, "_blank", "noopener,noreferrer");
        if(!w) location.href = STORE_URL;
      }catch(e){
        location.href = STORE_URL;
      }
    }
    document.addEventListener("click", (e) => {
      const el = e.target?.closest?.('[data-store-link], #storeBtn, #storeLink');
      if(el){
        e.preventDefault();
        openStoreUrl();
      }
      const a = e.target?.closest?.("a[href]");
      if(a){
        const href = (a.getAttribute("href") || "").trim();
        if(href.includes("sandooq-m.com") && !/^https?:\/\//i.test(href)){
          a.setAttribute("href", "https://" + href.replace(/^\/+/, ""));
        }
      }
    }, true);

    /* โ ุฅุฏุงุฑุฉ ุฃุณุฆูุฉ ุงูููุฏู */
    const CUSTOM_Q_UI = {
      ready: false,
      roomLatest: null,
      els: {}
    };

    function autosizeTA(ta){
      if(!ta) return;
      ta.style.height = "auto";
      ta.style.height = Math.min(240, ta.scrollHeight) + "px";
    }

    function getCustomList(room, letter){
      const cq = room?.customQuestions || {};
      const v = cq?.[letter];
      if(Array.isArray(v)) return v.filter(x => x && (x.q || x.a));
      if(v && typeof v === "object") return [v].filter(x => x && (x.q || x.a));
      return [];
    }

    function createPairEl(qVal="", aVal=""){
      const wrap = document.createElement("div");
      wrap.className = "cqPair";
      wrap.innerHTML = `
        <div class="cqLbl">ุงูุณุคุงู</div>
        <textarea class="cqTA cqQ" rows="1" placeholder="ุงูุชุจ ููุง ุงูุณุคุงู"></textarea>
        <div class="cqLbl">ุงูุฌูุงุจ</div>
        <textarea class="cqTA cqA" rows="1" placeholder="ุงูุชุจ ููุง ุงูุฌูุงุจ"></textarea>
      `;
      const q = wrap.querySelector(".cqQ");
      const a = wrap.querySelector(".cqA");
      q.value = qVal || "";
      a.value = aVal || "";
      requestAnimationFrame(()=>{ autosizeTA(q); autosizeTA(a); });

      [q,a].forEach(ta=>{
        ta.addEventListener("input", ()=> autosizeTA(ta));
      });

      return wrap;
    }

    function buildLetterEditor(item, letter, room){
      const body = item.querySelector(".cqLetterBody");
      if(!body) return;
      body.innerHTML = "";

      const pairsWrap = document.createElement("div");
      pairsWrap.className = "cqPairs";

      const existing = getCustomList(room, letter);
      if(existing.length){
        existing.forEach(obj => pairsWrap.appendChild(createPairEl(String(obj.q||""), String(obj.a||""))));
      }else{
        pairsWrap.appendChild(createPairEl("", ""));
      }

      const addWrap = document.createElement("div");
      addWrap.className = "cqAddWrap";
      addWrap.innerHTML = `<button class="cqAddBtn" type="button" aria-label="ุฅุถุงูุฉ ุณุคุงู">+</button>`;

      const saveBtn = document.createElement("button");
      saveBtn.className = "btn btnYellow cqSaveFixed";
      saveBtn.type = "button";
      saveBtn.textContent = "ุญูุธ";

      const savedMsg = document.createElement("div");
      savedMsg.className = "cqSavedMsg";

      body.appendChild(pairsWrap);
      body.appendChild(addWrap);
      body.appendChild(saveBtn);
      body.appendChild(savedMsg);

      addWrap.querySelector(".cqAddBtn").addEventListener("click", () => {
        pairsWrap.appendChild(createPairEl("", ""));
      });

      saveBtn.addEventListener("click", async () => {
        const out = [];
        pairsWrap.querySelectorAll(".cqPair").forEach(p => {
          const q = (p.querySelector(".cqQ")?.value || "").trim();
          const a = (p.querySelector(".cqA")?.value || "").trim();
          if(q || a) out.push({ q, a });
        });

        await update(ref(db, `rooms/${code}/customQuestions`), { [letter]: out });
        await update(ref(db, `rooms/${code}`), { customQuestionsUpdatedAt: Date.now() });

        savedMsg.textContent = "ุชู ุงูุญูุธ โ";
        setTimeout(()=> { savedMsg.textContent = ""; }, 1400);
      });
    }

    function ensureCustomQuestionsModal(){
      if(CUSTOM_Q_UI.ready) return;

      const backdrop = document.createElement("div");
      backdrop.id = "cqBackdrop";
      backdrop.className = "cqBackdrop";
      backdrop.innerHTML = `
        <div class="cqModal" role="dialog" aria-modal="true" aria-label="ุฃุณุฆูุฉ ุงูููุฏู">
          <button id="cqClose" class="cqCloseRed" aria-label="ุฅุบูุงู">X</button>
          <div class="cqTitle">ุฃุณุฆูุฉ ุฎุงุตุฉ ููููุฏู</div>
          <div class="cqHint">ุงุถุบุท ุนูู ุงูุญุฑู ููุชุญ ุตูุญุฉ ุฃุณุฆูุชู. ููููู ุฅุถุงูุฉ ุฃูุซุฑ ูู ุณุคุงู ูุฌูุงุจ ูููุณ ุงูุญุฑู.</div>
          <div id="cqList"></div>
        </div>
      `;
      document.body.appendChild(backdrop);

      const cqList = backdrop.querySelector("#cqList");
      cqList.innerHTML = GAME_LETTERS.map(L => `
        <details class="cqItem" data-letter="${escapeHtml(L)}">
          <summary>ุญุฑู ${escapeHtml(L)}</summary>
          <div class="cqLetterBody"></div>
        </details>
      `).join("");

      function close(){
        backdrop.style.display = "none";
        cqList.querySelectorAll(".cqItem[open]").forEach(d => d.removeAttribute("open"));
      }

      backdrop.querySelector("#cqClose").addEventListener("click", close);
      backdrop.addEventListener("click", (e) => {
        if(e.target === backdrop) close();
      });

      cqList.querySelectorAll(".cqItem").forEach(det => {
        det.addEventListener("toggle", () => {
          if(!det.open) return;
          cqList.querySelectorAll(".cqItem").forEach(o => {
            if(o !== det) o.removeAttribute("open");
          });
          const letter = det.getAttribute("data-letter");
          buildLetterEditor(det, letter, CUSTOM_Q_UI.roomLatest || {});
        });
      });

      CUSTOM_Q_UI.ready = true;
      CUSTOM_Q_UI.els = { backdrop, cqList };
    }

    function openCustomQuestionsModal(room){
      ensureCustomQuestionsModal();
      CUSTOM_Q_UI.roomLatest = room || {};
      const { backdrop, cqList } = CUSTOM_Q_UI.els;
      cqList.querySelectorAll(".cqItem[open]").forEach(d => d.removeAttribute("open"));
      backdrop.style.display = "flex";
    }

    function getQuestionMode(room){
      const m = String(room?.questionMode || "default");
      return (m === "custom") ? "custom" : "default";
    }

    /* โ (ุฌุฏูุฏ) ุฅุนุฏุงุฏุงุช ุงูููุฏู ูุซู ุงูุตูุฑุฉ */
    const SETTINGS_UI = {
      ready:false,
      els:{},
      roomLatest:null
    };

    function ensureSettingsModal(){
      if(SETTINGS_UI.ready) return;

      const bd = document.createElement("div");
      bd.id = "settingsBackdrop";
      bd.className = "settingsBackdrop";
      bd.innerHTML = `
        <div class="settingsPanel" role="dialog" aria-modal="true" aria-label="ุงูุฅุนุฏุงุฏุงุช">
          <div id="settingsMenu">
            <button id="sHelp" class="settingsBtn" type="button">ุงูุชุนูููุงุช</button>
            <button id="sTimer" class="settingsBtn" type="button">ุชุนุฏูู ุงููุคูุช</button>
            <button id="sAddQ" class="settingsBtn" type="button">ุงุถุงูุฉ ุงูุงุณุฆูุฉ</button>
            <button id="sMore" class="settingsBtn" type="button">ุงูุนุงุจูุง ุงูุงุฎุฑู</button>

            <div id="timerMiniPicker" class="timerMiniPicker" aria-label="ุงุฎุชูุงุฑ ููุช ุงููุคูุช">
              <div class="timerMiniList">
                <button class="timerMiniItem" data-t="10" type="button">ูกู</button>
                <button class="timerMiniItem" data-t="15" type="button">ูกูฅ</button>
                <button class="timerMiniItem" data-t="20" type="button">ูขู</button>
                <button class="timerMiniItem" data-t="25" type="button">ูขูฅ</button>
                <button class="timerMiniItem" data-t="30" type="button">ูฃู</button>
              </div>
            </div>
          </div>

          <div id="helpView" class="settingsView">
            <h3>ุชุนูููุงุช ุงููุนุจุฉ</h3>
            <div style="line-height:1.75;font-weight:700">
              <p><b>ููุฑุฉ ุงููุนุจุฉ:</b> ูุฎุชุงุฑ ุงูููุฏู ุญุฑููุง ูู ุงูุฎุฑูุทุฉุ ุซู ูุธูุฑ ุณุคุงู ููุฐุง ุงูุญุฑู. ุฃูู ูุงุนุจ ูุถุบุท ุฒุฑ ุงูุฅุฌุงุจุฉ ูุธูุฑ ุงุณูู ูู ุงูุดุฑูุท.</p>

              <p><b>ุทุฑููุฉ ุงููุนุจ ุจุงุฎุชุตุงุฑ:</b></p>
              <ul>
                <li>ุงูููุฏู ูุถุบุท ุนูู ุฎููุฉ ุญุฑู ูู ุงูุฎุฑูุทุฉ ูุงุฎุชูุงุฑ ุงูุญุฑู.</li>
                <li>ูุธูุฑ ุงูุณุคุงู ุฏุงุฎู ุจุทุงูุฉ ุงูุณุคุงู.</li>
                <li>ุงููุงุนุจูู ูุถุบุทูู ุฒุฑ "ุงุถุบุท ููุง ููุฅุฌุงุจุฉ". ุฃูู ูุงุนุจ ูุถุบุท ูุธูุฑ ุงุณูู.</li>
                <li>ุงูููุฏู ููุฑุฑ ุงูููุงุท ููุญุฏูุซ ุงููุชูุฌุฉ ูู ูุฑุจุนุงุช ุงูููุงุท.</li>
              </ul>

              <p><b>ุดุฑุญ ุงูุฃุฒุฑุงุฑ ููููุฏู:</b></p>
              <ul>
                <li><b>ุชุฌููุฏ ุงูุฃุฒุฑุงุฑ:</b> ูููุน ุงููุงุนุจูู ูู ุงูุถุบุท ุนูู ุฒุฑ ุงูุฅุฌุงุจุฉ ูุคูุชูุง.</li>
                <li><b>ุชุบููุฑ ุงูุณุคุงู:</b> ููุชูู ููุณุคุงู ุงูุชุงูู ูููุณ ุงูุญุฑู ุงููุฎุชุงุฑ.</li>
                <li><b>ุชูุฑูุบ ุงูููุญุฉ:</b> ููุณุญ ุฃููุงู ุฎูุงูุง ุงูุฎุฑูุทุฉ ุงูุญุงููุฉ ููุฑุฌุนูุง ููุฃุจูุถ.</li>
                <li><b>ุฃุณุฆูุฉ ุนุงูุฉ / ุฃุณุฆูุฉ ุฎุงุตุฉ:</b> ุชุจุฏูู ูุตุฏุฑ ุงูุฃุณุฆูุฉ ุจูู ุฃุณุฆูุฉ ุงููุนุจุฉ ูุฃุณุฆูุฉ ุงูููุฏู.</li>
                <li><b>ุงููุคูุช:</b> ุงุถุบุท ุนูู ุฏุงุฆุฑุฉ ุงููุคูุช ูุจุฏุก ุงูุนุฏ. ุงุถุบุท ูุฑุฉ ุซุงููุฉ ูุชุตููุฑ ุงููุคูุช.</li>
                <li><b>ุงูุฒูู:</b> ูุชูุจูุฑ/ุชุตุบูุฑ ุงูุฎุฑูุทุฉ.</li>
                <li><b>ุชุบููุฑ ุงูุฎุฑูุทุฉ:</b> ููุชููู ุจูู ุงูุฎุฑุงุฆุท ุงูุซูุงุซ.</li>
              </ul>
            </div>
            <button id="helpBack" class="settingsBackMini" type="button">ุฑุฌูุน</button>
          </div>
        </div>
      `;
      document.body.appendChild(bd);

      function closeSettings(){
        bd.style.display = "none";
        bd.querySelector("#helpView").style.display = "none";
        bd.querySelector("#settingsMenu").style.display = "flex";
        const tm = bd.querySelector("#timerMiniPicker");
        if(tm) tm.style.display = "none";
      }

      bd.addEventListener("click", (e) => {
        if(e.target === bd) closeSettings();
      });

      bd.querySelector("#helpBack").addEventListener("click", () => {
        bd.querySelector("#helpView").style.display = "none";
        bd.querySelector("#settingsMenu").style.display = "flex";
      });

      bd.querySelector("#sHelp").addEventListener("click", () => {
        bd.querySelector("#settingsMenu").style.display = "none";
        bd.querySelector("#helpView").style.display = "block";
      });

      bd.querySelector("#sMore").addEventListener("click", () => {
        closeSettings();
        openStoreUrl();
      });

      bd.querySelector("#sAddQ").addEventListener("click", () => {
        const room = SETTINGS_UI.roomLatest || {};
        closeSettings();
        openCustomQuestionsModal(room);
      });

      bd.querySelector("#sTimer").addEventListener("click", () => {
        const tm = bd.querySelector("#timerMiniPicker");
        if(!tm) return;
        tm.style.display = (tm.style.display === "block") ? "none" : "block";
      });

      bd.querySelectorAll(".timerMiniItem").forEach(btn => {
        btn.addEventListener("click", async () => {
          const v = Number(btn.getAttribute("data-t"));
          if(![10,15,20,25,30].includes(v)) return;

          // ุนูุฏ ุงุฎุชูุงุฑ ุงูุฑูู: ูุชุบูุฑ ุงููุคูุช ููุฎุชูู ุงูุจูุจ-ุฃุจ
          await update(ref(db, `rooms/${code}/timer`), {
            sel: v,
            dur: v,
            running: false,
            done: false,
            startTs: 0
          });

          const tm = bd.querySelector("#timerMiniPicker");
          if(tm) tm.style.display = "none";
        });
      });

      SETTINGS_UI.ready = true;
      SETTINGS_UI.els = { backdrop: bd, closeSettings };
    }

    function openSettings(room){
      ensureSettingsModal();
      SETTINGS_UI.roomLatest = room || {};
      SETTINGS_UI.els.backdrop.style.display = "flex";
      SETTINGS_UI.els.backdrop.querySelector("#settingsMenu").style.display = "flex";
    }

    function renderHostLobby(room){
      main.classList.remove("inGame");
      const players = room.players || {};
      const list = Object.entries(players).map(([id,p]) => ({id, ...p}));

      const green = list.filter(p => p.team === "green");
      const orange = list.filter(p => p.team === "orange");

      main.innerHTML = `
        <div class="codeBox">ุฑูุฒ ุงููุนุจุฉ</div>
        <div class="codeNum">${escapeHtml(room.code)}</div>
        <div class="smallNote">ุดุงุฑู ุงูุฑูุฒ ูุน ุงููุงุนุจูู ููุฏุฎูู</div>

        <div style="height:12px"></div>

        <div class="teams">
          <div class="teamCol teamGreen">
            <div class="teamTitle">ุงููุฑูู ุงูุฃุฎุถุฑ</div>
            <div id="greenList"></div>
          </div>
          <div class="teamCol teamOrange">
            <div class="teamTitle">ุงููุฑูู ุงูุจุฑุชูุงูู</div>
            <div id="orangeList"></div>
          </div>
        </div>

        <div style="height:12px"></div>

        <div class="row">
          <button id="shareBtn" class="btn btnYellow">ูุดุงุฑูุฉ ุงููุนุจุฉ ููุงุนุจูู</button>
          <button id="startBtn" class="btn btnGreen">ุงุจุฏุฃ ุงููุนุจุฉ</button>
        </div>

        <div class="smallNote">ููููู ุงูุถุบุท ุนูู ุงุณู ูุงุนุจ ููููู ูููุฑูู ุงูุขุฎุฑ</div>

        <div id="shareBackdrop" class="shareBackdrop">
          <div class="shareModal">
            <button id="shareClose" class="shareClose" aria-label="ุฅุบูุงู">ร</button>
            <div class="shareTitle">ูุดุงุฑูุฉ ุงููุนุจุฉ</div>

            <div class="shareChoices">
              <button id="shareQrBtn" class="btn btnOrange">ุจุงุฑููุฏ</button>
              <button id="shareCodeBtn" class="btn btnGreen">ุฑูุฒ</button>
              <button id="shareLinkBtn" class="btn btnYellow">ุฑุงุจุท</button>
            </div>

            <div id="shareQrPanel" class="sharePanel">
              <img id="qrImg" class="qrImg" alt="QR">
              <div class="shareSmall" id="joinUrlTxt"></div>
              <div class="row" style="justify-content:center;margin-top:10px">
                <button id="copyJoinBtn1" class="btn btnYellow">ูุณุฎ ุงูุฑุงุจุท</button>
              </div>
              <div class="shareSmall">ุงูุณุญ ุงูุจุงุฑููุฏ ุฃู ุงูุชุญ ุงูุฑุงุจุท ููุงูุชูุงู ูุตูุญุฉ ูุชุงุจุฉ ุงูุงุณู</div>
            </div>

            <div id="shareCodePanel" class="sharePanel">
              <div class="codeBox" style="text-align:center">ุฑูุฒ ุงูุบุฑูุฉ</div>
              <div class="shareCodeBig">${escapeHtml(room.code)}</div>
            </div>

            <div id="shareLinkPanel" class="sharePanel">
              <div class="codeBox" style="text-align:center">ุฑุงุจุท ุงูุฏุฎูู</div>
              <div class="shareSmall" id="joinUrlTxt2"></div>
              <div class="row" style="justify-content:center;margin-top:10px">
                <button id="copyJoinBtn2" class="btn btnYellow">ูุณุฎ ุงูุฑุงุจุท</button>
              </div>
            </div>
          </div>
        </div>
      `;

      const greenList = document.getElementById("greenList");
      const orangeList = document.getElementById("orangeList");

      function draw(colEl, arr){
        colEl.innerHTML = arr.map(p => `<div class="playerItem" data-id="${escapeHtml(p.id)}">${escapeHtml(p.name)}</div>`).join("") || `<div class="smallNote">ูุง ููุฌุฏ</div>`;
      }
      draw(greenList, green);
      draw(orangeList, orange);

      main.querySelectorAll(".playerItem").forEach(el => {
        el.addEventListener("click", async () => {
          const id = el.getAttribute("data-id");
          const p = players[id];
          if(!p) return;
          const newTeam = (p.team === "green") ? "orange" : "green";
          await update(ref(db, `rooms/${code}/players/${id}`), { team: newTeam });
        });
      });

      document.getElementById("startBtn").addEventListener("click", async () => {
        await update(roomRef, {
          status: "started",
          activeMap: 0,
          freeze: false,
          buzzer: null,
          current: { letter: null, qIndex: 0, row: null, col: null, map: 0 }
        });
      });

      const shareBackdrop = document.getElementById("shareBackdrop");
      const shareBtn = document.getElementById("shareBtn");
      const shareClose = document.getElementById("shareClose");
      const shareQrBtn = document.getElementById("shareQrBtn");
      const shareCodeBtn = document.getElementById("shareCodeBtn");
      const shareLinkBtn = document.getElementById("shareLinkBtn");
      const shareQrPanel = document.getElementById("shareQrPanel");
      const shareCodePanel = document.getElementById("shareCodePanel");
      const shareLinkPanel = document.getElementById("shareLinkPanel");
      const qrImg = document.getElementById("qrImg");
      const joinUrlTxt = document.getElementById("joinUrlTxt");
      const joinUrlTxt2 = document.getElementById("joinUrlTxt2");
      const copyJoinBtn1 = document.getElementById("copyJoinBtn1");
      const copyJoinBtn2 = document.getElementById("copyJoinBtn2");

      const joinUrl = buildJoinUrl(room.code);
      const qrUrl = buildQrUrl(joinUrl);

      function showPanel(which){
        shareQrPanel.style.display = (which === "qr") ? "block" : "none";
        shareCodePanel.style.display = (which === "code") ? "block" : "none";
        shareLinkPanel.style.display = (which === "link") ? "block" : "none";
      }

      function openShare(){
        shareBackdrop.style.display = "flex";
        showPanel("code");
      }
      function closeShare(){
        shareBackdrop.style.display = "none";
      }

      shareBtn.addEventListener("click", openShare);
      shareClose.addEventListener("click", closeShare);
      shareBackdrop.addEventListener("click", (e) => {
        if(e.target === shareBackdrop) closeShare();
      });

      shareQrBtn.addEventListener("click", () => {
        showPanel("qr");
        qrImg.src = qrUrl;
        joinUrlTxt.textContent = joinUrl;
      });

      shareCodeBtn.addEventListener("click", () => {
        showPanel("code");
      });

      shareLinkBtn.addEventListener("click", () => {
        showPanel("link");
        joinUrlTxt2.textContent = joinUrl;
      });

      if(copyJoinBtn1){
        copyJoinBtn1.addEventListener("click", async () => {
          const ok = await copyText(joinUrl);
          copyJoinBtn1.textContent = ok ? "ุชู ุงููุณุฎ โ" : "ูุดู ุงููุณุฎ";
          setTimeout(()=> copyJoinBtn1.textContent = "ูุณุฎ ุงูุฑุงุจุท", 1200);
        });
      }
      if(copyJoinBtn2){
        copyJoinBtn2.addEventListener("click", async () => {
          const ok = await copyText(joinUrl);
          copyJoinBtn2.textContent = ok ? "ุชู ุงููุณุฎ โ" : "ูุดู ุงููุณุฎ";
          setTimeout(()=> copyJoinBtn2.textContent = "ูุณุฎ ุงูุฑุงุจุท", 1200);
        });
      }
    }

    function renderWaiting(msg){
      main.classList.remove("inGame");
      main.innerHTML = `
        <div class="waitingLayout">
          <div class="muted">${escapeHtml(msg)}</div>

          <div class="buyNowWrap">
            <button class="buyNowBtn" data-store-link type="button">ูุดุฑุงุก ุงููุนุจุฉ ุงุถุบุท ููุง</button>
          </div>
        </div>
      `;
    }

    function renderGame(room, me){
      main.classList.add("inGame");
      setGameName(room?.name);

      const isHost = role === "host";
      const started = room.status === "started";

      initTimerDefaultsIfNeeded(room);

      const scores = room.scores || {};
      const scoreGreen = Number(scores.green || 0);
      const scoreOrange = Number(scores.orange || 0);

      const pickerButtons = Array.from({length:11}, (_,i)=>(
        `<button class="scorePickBtn" data-val="${i}" type="button">${i}</button>`
      )).join("");

      const qMode = getQuestionMode(room);
      const modeBtnText = (qMode === "custom") ? "ุฃุณุฆูุฉ ุฎุงุตุฉ" : "ุฃุณุฆูุฉ ุนุงูุฉ";

      const SHUFFLE_ICON = `
        <svg viewBox="0 0 24 24" aria-hidden="true" focusable="false">
          <path d="M16 3h5v5h-2V6.41l-3.29 3.3-1.42-1.42L17.59 5H16V3z"></path>
          <path d="M4 7h4.59l9.7 9.7-1.42 1.42L7.76 9H4V7z"></path>
          <path d="M4 15h4.59l2.12 2.12-1.42 1.42L7.76 17H4v-2z"></path>
          <path d="M16 16h1.59l-2.3-2.29 1.42-1.42L19 14.59V13h2v5h-5v-2z"></path>
        </svg>
      `;

      main.innerHTML = `
        <div class="scoreBar">
          <span class="teamLabel orange">ุงููุฑูู ุงูุจุฑุชูุงูู</span>

          ${
            isHost ? `
              <div class="scoreCtrl">
                <button id="scoreOrangeVal" class="scoreBoxBtn clickable" type="button">${scoreOrange}</button>
                <div id="scorePickerOrange" class="scorePicker" role="menu" aria-label="ุงุฎุชูุงุฑ ููุงุท ุงูุจุฑุชูุงูู">
                  ${pickerButtons.replaceAll('data-val="', 'data-team="orange" data-val="')}
                </div>
              </div>
            ` : `
              <button class="scoreBoxBtn" disabled>${scoreOrange}</button>
            `
          }

          ${
            isHost ? `
              <div class="scoreCtrl">
                <button id="scoreGreenVal" class="scoreBoxBtn clickable" type="button">${scoreGreen}</button>
                <div id="scorePickerGreen" class="scorePicker" role="menu" aria-label="ุงุฎุชูุงุฑ ููุงุท ุงูุฃุฎุถุฑ">
                  ${pickerButtons.replaceAll('data-val="', 'data-team="green" data-val="')}
                </div>
              </div>
            ` : `
              <button class="scoreBoxBtn" disabled>${scoreGreen}</button>
            `
          }

          <span class="teamLabel green">ุงููุฑูู ุงูุฃุฎุถุฑ</span>
        </div>
        ${isHost ? `<div class="scoreHint">ุงูููุฏู ููุท: ุงุถุบุท ุนูู ูุฑุจุน ุงููุชูุฌุฉ ุซู ุงุฎุชุฑ ุฑูููุง ูู 0 ุฅูู 10</div>` : ``}

        <div class="mapOuter">
          <div id="mapScale" class="mapScale" style="--zoom:1">
            <div id="mapBox" class="mapBox">
              <img id="mapImg" src="" alt="">
              <svg id="overlay" class="overlaySvg"></svg>
            </div>
          </div>
        </div>

        <!-- โ (ุชุจุฏูู ููุงู) ุฒุฑ ุชุบููุฑ ุงูุฎุฑูุทุฉ ูุณุงุฑ + ุงูุฅุนุฏุงุฏุงุช ูููู -->
        <div class="mapToolsRow">
          ${isHost ? `<button id="mapBtn" class="iconBtn" type="button" aria-label="ุชุบููุฑ ุงูุฎุฑูุทุฉ">${SHUFFLE_ICON}</button>` : `<span style="width:46px"></span>`}
          <div class="zoomSlider">
            <input id="zoom" type="range" min="0.8" max="1.35" step="0.01" value="1" />
          </div>
          ${isHost ? `<button id="settingsBtn" class="iconBtn" type="button" aria-label="ุงูุฅุนุฏุงุฏุงุช">โ๏ธ</button>` : `<span style="width:46px"></span>`}
        </div>

        <div class="controlWrap">
          <div class="controlRow">
            <div class="sideCol">
              ${isHost ? `<button id="freezeBtn" class="btn ${room.freeze ? "btnRed" : "btnYellow"}" type="button">${room.freeze ? "ุชุฌููุฏ ุงูุฃุฒุฑุงุฑ" : "ุชุฌููุฏ ุงูุฃุฒุฑุงุฑ"}</button>` : ``}
              ${isHost ? `<button id="nextQ" class="btn btnYellow" type="button">ุชุบููุฑ ุงูุณุคุงู</button>` : ``}
            </div>

            <div class="timerWrap ${isHost ? "" : "timerPlayerView"}" id="timerWrap">
              <button id="timerClock" class="timerClockBtn ${isHost ? "" : "player"}" type="button" ${isHost ? "" : "tabindex='-1' aria-hidden='true'"} aria-label="ุงููุคูุช">
                <svg class="timerRing" viewBox="0 0 120 120" aria-hidden="true" focusable="false">
                  <circle id="timerRingCircle" cx="60" cy="60" r="54"></circle>
                </svg>
                <span id="timerNumber" class="timerNumber">10</span>
              </button>
            </div>

            <div class="sideCol">
              ${isHost ? `<button id="qModeBtn" class="btn btnYellow" type="button">${modeBtnText}</button>` : ``}
              ${isHost ? `<button id="clearBoardBtn" class="btn btnYellow" type="button">ุชูุฑูุบ ุงูููุญุฉ</button>` : ``}
            </div>
          </div>

          <div id="firstPressBar" class="firstPressBar">ุงุณู ุงููุงุนุจ ุงูุฐู ูุถุบุท ุฃููุงู</div>

          ${isHost ? `
            <div class="questionCard">
              <!-- โ (ูุทููุจ) ุฅุฒุงูุฉ ูููุฉ "ุงูุณุคุงู" -->
              <div id="qText" class="qText">ุงุฎุชุฑ ุญุฑููุง ูู ุงูุฎุฑูุทุฉ</div>
              <div id="qAns" class="answerPill"></div>
            </div>
          ` : `
            <div style="margin-top:10px;background:rgba(255,255,255,.08);border:1px solid rgba(255,255,255,.12);border-radius:14px;padding:12px;color:#fff">
              <div style="font-weight:900;margin-bottom:6px">ุงูุญุงูุฉ</div>
              <div style="font-weight:800">${started ? "ุฌุงูุฒ" : "ุจุงูุชุธุงุฑ ุงูููุฏู"}</div>
            </div>
          `}
        </div>

        ${(!isHost) ? `
          <div class="playerBtnWrap">
            <button id="buzzBtn" class="playerBigBtn">ุงุถุบุท ููุง ููุฅุฌุงุจุฉ</button>
            ${started ? `` : `<div class="smallNote">ุจุงูุชุธุงุฑ ุจุฏุก ุงููุนุจุฉ</div>`}

            <div class="buyNowWrap">
              <button class="buyNowBtn" data-store-link type="button">ูุดุฑุงุก ุงููุนุจุฉ ุงุถุบุท ููุง</button>
            </div>
          </div>
        ` : ""}
      `;

      if(isHost){
        const pickerOrange = document.getElementById("scorePickerOrange");
        const pickerGreen  = document.getElementById("scorePickerGreen");
        const valOrangeBtn = document.getElementById("scoreOrangeVal");
        const valGreenBtn  = document.getElementById("scoreGreenVal");

        const hideAll = () => {
          pickerOrange?.classList.remove("show");
          pickerGreen?.classList.remove("show");
        };

        const togglePicker = (picker) => {
          const shown = picker.classList.contains("show");
          hideAll();
          if(!shown) picker.classList.add("show");
        };

        const setScore = async (team, value) => {
          const v = Math.max(0, Math.min(10, Number(value)));
          await update(ref(db, `rooms/${code}/scores`), { [team]: v });
        };

        if(pickerOrange) pickerOrange.addEventListener("click", (e)=>e.stopPropagation());
        if(pickerGreen)  pickerGreen.addEventListener("click", (e)=>e.stopPropagation());

        if(valOrangeBtn && pickerOrange){
          valOrangeBtn.addEventListener("click", (e) => {
            e.stopPropagation();
            togglePicker(pickerOrange);
          });
        }
        if(valGreenBtn && pickerGreen){
          valGreenBtn.addEventListener("click", (e) => {
            e.stopPropagation();
            togglePicker(pickerGreen);
          });
        }

        main.querySelectorAll(".scorePickBtn").forEach(btn => {
          btn.addEventListener("click", async (e) => {
            e.stopPropagation();
            const team = btn.getAttribute("data-team");
            const val  = btn.getAttribute("data-val");
            if(!team) return;
            await setScore(team, val);
            hideAll();
          });
        });
      }

      // โ ุงููุคูุช: ูุจุฏุฃ ูุจุงุดุฑุฉ ุจุงูููุฑ ุนูู ุงูุฏุงุฆุฑุฉุ ูุงูููุฑ ูุฑุฉ ุฃุฎุฑู ูุตูุฑ
      TIMER_UI.latestTimer = room.timer || {};
      TIMER_UI.isHost = isHost;
      ensureTimerTicker();
      applyTimerDom();

      if(isHost){
        const clock = document.getElementById("timerClock");
        if(clock){
          clock.addEventListener("click", async (e) => {
            e.stopPropagation();
            const t = normalizeTimer(TIMER_UI.latestTimer || {});
            const sel = Number(t.sel || 10);

            // ุฅุฐุง ูุนูู ุฃู ุงูุชูู => ุชุตููุฑ
            if(t.running || t.done){
              await update(ref(db, `rooms/${code}/timer`), {
                running:false,
                done:false,
                startTs:0,
                dur: sel
              });
              return;
            }

            // ุงุจุฏุฃ
            await update(ref(db, `rooms/${code}/timer`), {
              sel,
              dur: sel,
              running:true,
              done:false,
              startTs: Date.now()
            });
          });
        }
      }

      // โ ุฒุฑ ุงูุฅุนุฏุงุฏุงุช
      if(isHost){
        const settingsBtn = document.getElementById("settingsBtn");
        if(settingsBtn){
          settingsBtn.addEventListener("click", () => openSettings(room));
        }
      }

      // โ ุฒุฑ ุฃุณุฆูุฉ ุนุงูุฉ/ุฎุงุตุฉ
      if(isHost){
        const qModeBtn = document.getElementById("qModeBtn");
        if(qModeBtn){
          qModeBtn.addEventListener("click", async () => {
            const cur = getQuestionMode(room);
            const next = (cur === "custom") ? "default" : "custom";
            await update(ref(db, `rooms/${code}`), { questionMode: next });
          });
        }
      }

      const mapImg = document.getElementById("mapImg");
      const overlay = document.getElementById("overlay");
      const mapScale = document.getElementById("mapScale");
      const zoom = document.getElementById("zoom");

      const activeMap = Number(room.activeMap || 0);

      const src = ([
        "maps/map1.jpeg",
        "maps/map2.jpeg",
        "maps/map3.jpeg"
      ][activeMap] || "maps/map1.jpeg");

      mapImg.src = src;

      overlay.innerHTML = "";
      overlay.setAttribute("xmlns", "http://www.w3.org/2000/svg");

      const svgNS = "http://www.w3.org/2000/svg";
      for(let row=0; row<5; row++){
        for(let col=0; col<5; col++){
          const poly = document.createElementNS(svgNS, "polygon");
          poly.classList.add("cell", "state0");
          poly.setAttribute("data-row", row);
          poly.setAttribute("data-col", col);
          overlay.appendChild(poly);
        }
      }

      overlay.style.pointerEvents = isHost ? "auto" : "none";

      const ZOOM_KEY = `sabaq_zoom_${code}`;
      const savedZoom = Number(localStorage.getItem(ZOOM_KEY) || "");
      if(zoom && Number.isFinite(savedZoom) && savedZoom >= 0.8 && savedZoom <= 1.35){
        zoom.value = String(savedZoom);
      }

      function applyZoomFix(){
        const mapBox = document.getElementById("mapBox");
        const mapOuter = document.querySelector(".mapOuter");
        if(!mapBox || !mapOuter) return;

        const z = Number(zoom.value || 1);
        mapScale.style.setProperty("--zoom", z);

        const baseH = mapBox.offsetHeight || 0;
        const extra = Math.max(0, baseH * (z - 1));
        mapOuter.style.marginBottom = `${extra}px`;
      }

      function placeHexes(){
        const W = mapImg.clientWidth;
        const H = mapImg.clientHeight;
        if(!W || !H) return;

        overlay.setAttribute("viewBox", `0 0 ${W} ${H}`);
        overlay.setAttribute("preserveAspectRatio", "none");

        const bbox = BBOX_CACHE[src];
        if(!bbox) return;

        const x0 = bbox.x0 * W;
        const y0 = bbox.y0 * H;
        const x1 = bbox.x1 * W;
        const y1 = bbox.y1 * H;

        const gridW = x1 - x0;
        const gridH = y1 - y0;

        const w = gridW / 5.5;
        const h = gridH / 4.0;
        const stepY = h * 0.75;

        const cells = overlay.querySelectorAll(".cell");
        let i = 0;
        for(let row=0; row<5; row++){
          for(let col=0; col<5; col++){
            const left = x0 + col*w + (row%2)*(w/2);
            const top  = y0 + row*stepY;
            cells[i++].setAttribute("points", hexPointsPointyTop(left, top, w, h));
          }
        }

        applyZoomFix();
      }

      function onMapReady(){
        if(!BBOX_CACHE[src]) BBOX_CACHE[src] = detectHexBBox(mapImg);
        requestAnimationFrame(placeHexes);
      }

      if(mapImg.complete) onMapReady();
      else mapImg.addEventListener("load", onMapReady, { once:true });

      window.addEventListener("resize", () => {
        placeHexes();
        applyZoomFix();
      });

      const mapStates = (room.mapStates && room.mapStates[String(activeMap)]) ? room.mapStates[String(activeMap)] : {};
      overlay.querySelectorAll(".cell").forEach(cell => {
        const r = Number(cell.getAttribute("data-row"));
        const c = Number(cell.getAttribute("data-col"));
        const k = cellKey(r,c);
        const st = Number(mapStates?.[k] ?? 0);
        setStateClass(cell, st);
      });

      // โ ุดุฑูุท ุฃูู ูุงุนุจ ูุถุบุท
      const firstPressBar = document.getElementById("firstPressBar");
      const buzzer = room.buzzer;
      if(buzzer && buzzer.name && firstPressBar){
        firstPressBar.classList.add("filled");
        firstPressBar.style.background = teamColor(buzzer.team);
        firstPressBar.textContent = buzzer.name;
      }else if(firstPressBar){
        firstPressBar.classList.remove("filled");
        firstPressBar.style.background = "#fff";
        firstPressBar.textContent = "ุงุณู ุงููุงุนุจ ุงูุฐู ูุถุบุท ุฃููุงู";
      }

      if(isHost){
        const qText = document.getElementById("qText");
        const qAns  = document.getElementById("qAns");
        const cur = room.current || {};

        if(cur.letter){
          const mode = getQuestionMode(room);

          let list = [];
          if(mode === "custom"){
            list = getCustomList(room, cur.letter);
            if(!list.length){
              qText.textContent = `ูุง ุชูุฌุฏ ุฃุณุฆูุฉ ุฎุงุตุฉ ููุฐุง ุงูุญุฑู: ${cur.letter}`;
              qAns.textContent  = "";
              qAns.style.display = "none";
            }else{
              const idx = Number(cur.qIndex || 0) % list.length;
              const item = list[idx];
              qText.textContent = item?.q ?? "โ";
              qAns.textContent  = item?.a ?? "";
              qAns.style.display = (qAns.textContent.trim() ? "block" : "none");
            }
          }else{
            list = QUESTIONS[cur.letter] || [];
            if(!list.length){
              qText.textContent = `ูุง ุชูุฌุฏ ุฃุณุฆูุฉ ููุฐุง ุงูุญุฑู: ${cur.letter}`;
              qAns.textContent  = "";
              qAns.style.display = "none";
            }else{
              const idx = Number(cur.qIndex || 0) % list.length;
              const item = list[idx];
              qText.textContent = item?.q ?? "โ";
              qAns.textContent  = item?.a ?? "";
              qAns.style.display = (qAns.textContent.trim() ? "block" : "none");
            }
          }
        }else{
          qText.textContent = "ุงุฎุชุฑ ุญุฑููุง ูู ุงูุฎุฑูุทุฉ";
          qAns.textContent  = "";
          qAns.style.display = "none";
        }
      }

      zoom.addEventListener("input", () => {
        const z = Number(zoom.value || 1);
        localStorage.setItem(ZOOM_KEY, String(z));
        applyZoomFix();
      });

      const mapBtn = document.getElementById("mapBtn");
      if(mapBtn){
        mapBtn.addEventListener("click", async () => {
          const next = (activeMap + 1) % 3;
          await update(roomRef, {
            activeMap: next,
            buzzer: null,
            current: { letter: null, qIndex: 0, row: null, col: null, map: next }
          });
        });
      }

      const freezeBtn = document.getElementById("freezeBtn");
      if(freezeBtn){
        freezeBtn.addEventListener("click", async () => {
          await update(roomRef, { freeze: !room.freeze, buzzer: null });
        });
      }

      const nextQ = document.getElementById("nextQ");
      if(nextQ){
        nextQ.addEventListener("click", async () => {
          const cur = room.current || {};
          if(!cur.letter) return;

          const mode = getQuestionMode(room);
          const list = (mode === "custom") ? getCustomList(room, cur.letter) : (QUESTIONS[cur.letter] || []);
          if(!list.length) return;

          const nextIndex = (Number(cur.qIndex || 0) + 1) % list.length;
          await update(roomRef, { current: { ...cur, qIndex: nextIndex } });
        });
      }

      // โ ุชูุฑูุบ ุงูููุญุฉ (ููููุฏู ููุท): ููุณุญ ุฃููุงู ุงูุฎูุงูุง ููุฎุฑูุทุฉ ุงูุญุงููุฉ
      const clearBoardBtn = document.getElementById("clearBoardBtn");
      if(clearBoardBtn){
        clearBoardBtn.addEventListener("click", async () => {
          const updates = {};
          updates[`rooms/${code}/mapStates/${activeMap}`] = null;
          updates[`rooms/${code}/buzzer`] = null;
          await update(ref(db), updates);
        });
      }

      if(isHost){
        overlay.querySelectorAll(".cell").forEach(cell => {
          cell.addEventListener("click", async (e) => {
            e.preventDefault();
            if(room.status !== "started") return;

            const r = Number(cell.getAttribute("data-row"));
            const c = Number(cell.getAttribute("data-col"));
            const k = cellKey(r,c);

            const st = Number(mapStates?.[k] ?? 0);
            const next = (st + 1) % 4;

            const letter = MAPS[activeMap][r][c];

            const updates = {};
            updates[`rooms/${code}/mapStates/${activeMap}/${k}`] = next;
            updates[`rooms/${code}/buzzer`] = null;
            updates[`rooms/${code}/current`] = { letter, qIndex: 0, row: r, col: c, map: activeMap };

            await update(ref(db), updates);
          });
        });
      }

      const buzzBtn = document.getElementById("buzzBtn");
      if(buzzBtn){
        const disabled = (!started) || room.freeze || !me || !me.name;
        if(disabled) buzzBtn.classList.add("disabled");

        buzzBtn.addEventListener("click", async () => {
          if(!started) return;
          if(room.freeze) return;
          if(!me) return;

          const buzzerRef = ref(db, `rooms/${code}/buzzer`);
          await runTransaction(buzzerRef, (cur) => {
            if(cur === null){
              return { pid, name: me.name, team: me.team, ts: Date.now() };
            }
            return;
          });
        });
      }
    }

    onValue(roomRef, (snap) => {
      if(!snap.exists()){
        main.textContent = "ุงููุนุจุฉ ุบูุฑ ููุฌูุฏุฉ (ุฑูุฒ ุบูุฑ ุตุญูุญ).";
        setGameName("");
        return;
      }
      const room = snap.val();
      setGameName(room?.name);

      TIMER_UI.latestTimer = room.timer || {};
      applyTimerDom();

      if(role === "host"){
        if(!hostKey || hostKey !== room.presenterKey){
          main.textContent = "ุตูุงุญูุฉ ุงูููุฏู ุบูุฑ ุตุญูุญุฉ.";
          return;
        }
        if(room.status === "lobby"){
          renderHostLobby(room);
          return;
        }
        renderGame(room, null);
        return;
      }

      const players = room.players || {};
      const me = pid ? players[pid] : null;

      if(!pid || !me){
        main.textContent = "ุจูุงูุงุช ุงููุงุนุจ ุบูุฑ ุตุญูุญุฉ.";
        return;
      }

      if(room.status === "lobby"){
        renderWaiting("ุจุงูุชุธุงุฑ ุจุฏุก ุงููุนุจุฉ ูู ุงูููุฏู...");
        return;
      }

      renderGame(room, me);
    });

    // ุฌูุฒ ุงูููุฏุงูุงุช ูุฑุฉ ูุงุญุฏุฉ
    ensureCustomQuestionsModal();
    ensureSettingsModal();
  </script>
</body>
</html>
